<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>奇迹之流WonderfloW</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Nothing Replaces Hard Work!">
    <meta name="generator" content="Hugo 0.153.4">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.efe4d852f731d5d1fbb87718387202a97aafd768cdcdaed0662bbe6982e91824.css" >



  
    <link rel="stylesheet" href="/css/custom.css">
  


    


    
      
<link rel="shortcut icon" href="/favicon_io/favicon.ico" type="image/x-icon" />


    

    
    
      <link href="/tags/c&#43;&#43;/index.xml" rel="alternate" type="application/rss+xml" title="奇迹之流WonderfloW" />
      <link href="/tags/c&#43;&#43;/index.xml" rel="feed" type="application/rss+xml" title="奇迹之流WonderfloW" />
      
    

    
      <link rel="canonical" href="https://wonderflow.info/tags/c&#43;&#43;/">
    

    
    
    <meta property="og:url" content="https://wonderflow.info/tags/c&#43;&#43;/">
  <meta property="og:site_name" content="奇迹之流WonderfloW">
  <meta property="og:title" content="C&#43;&#43;">
  <meta property="og:description" content="Nothing Replaces Hard Work!">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="C&#43;&#43;">
  <meta itemprop="description" content="Nothing Replaces Hard Work!">
  <meta itemprop="datePublished" content="2012-08-10T12:41:30+00:00">
  <meta itemprop="dateModified" content="2012-08-10T12:41:30+00:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="C&#43;&#43;">
  <meta name="twitter:description" content="Nothing Replaces Hard Work!">

      
      
    
	
  </head><body class="ma0 avenir production">

    



<header class="cover bg-top" style="background-image: url('https://wonderflow.info/images/gohugo-default-sample-hero-image.jpg');">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z3XG75RG8W"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
  <link rel="manifest" href="/favicon_io/site.webmanifest">
  <div class="bg-black-70">
    <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        奇迹之流WonderfloW
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>
    <div class="tc-l pv4 pv6-l ph3 ph4-ns">
      <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
        C&#43;&#43;
      </h1>
      
    </div>
  </div>
</header>

    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links dark-gray"></section>
    <section class="flex-ns mt5 flex-wrap justify-around">
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2012/08/10/stl-containers-e4b98b-vector/" class="link black dim">
        STL Containers 之 vector
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>我觉得，vector是STL中最常用的容器，没有之一。</p>
<p>因为它简单，安全，也容易理解。实际上它就是一个刚学C++时我们梦寐以求的动态数组，大小不需要一开始的时候定，而又不像链表操作起来那么麻烦。</p>
<p>先说一下最简单的几个用法吧：</p>
<p>比如说你要创建一个一维数组，数组元素是一个结构体。（为什么用结构体？因为结构体都会了的话，int之类的，就简单了。）</p>
<p>在示例代码中用注释的方式讲解一下各种vector函数的用法。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a"># include 
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"># include 
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> <span style="color:#cf222e">namespace</span> std<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">struct</span> <span style="color:#1f2328">Node</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> x<span style="color:#1f2328">,</span>y<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>Node<span style="color:#1f2328">(){</span>x <span style="color:#0550ae">=</span> <span style="color:#0550ae">30</span><span style="color:#1f2328">;}</span>
</span></span><span style="display:flex;"><span>Node<span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> x<span style="color:#1f2328">,</span><span style="color:#cf222e">int</span> y<span style="color:#1f2328">)</span><span style="color:#0550ae">:</span>x<span style="color:#1f2328">(</span>x<span style="color:#1f2328">),</span>y<span style="color:#1f2328">(</span>y<span style="color:#1f2328">){}</span><span style="color:#57606a">//构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>vectormyvector<span style="color:#1f2328">;</span>   <span style="color:#57606a">//定义一个vector数组
</span></span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span><span style="color:#0550ae">9</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>push_back<span style="color:#1f2328">(</span>Node<span style="color:#1f2328">(</span>i<span style="color:#1f2328">,</span><span style="color:#0550ae">1</span><span style="color:#0550ae">+</span>i<span style="color:#1f2328">));</span>    <span style="color:#57606a">//插入一个元素
</span></span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>pop_back<span style="color:#1f2328">();</span><span style="color:#57606a">//与之对应的pop_back是从末尾踢掉一个元素
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;first out:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>myvector<span style="color:#1f2328">.</span>size<span style="color:#1f2328">();</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span> <span style="color:#57606a">//vector元素的遍历，几乎跟平时数组一样的写法
</span></span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">[</span>i<span style="color:#1f2328">].</span>x<span style="color:#1f2328">;</span>   <span style="color:#57606a">//vector元素的输出
</span></span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//说一下迭代器，迭代器可以理解为指针，目的是为了迭代容器中的元素
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//迭代器的定义跟我们声明的容器类型是相同的，在这里是
</span></span></span><span style="display:flex;"><span>vector<span style="color:#0550ae">::</span>iterator it<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>it <span style="color:#0550ae">=</span> myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">()</span><span style="color:#0550ae">+</span><span style="color:#0550ae">3</span><span style="color:#1f2328">;</span>    <span style="color:#57606a">//begin()就是开始的位置，加几就是指向了数组中的第几个
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>erase<span style="color:#1f2328">(</span>it<span style="color:#1f2328">);</span> <span style="color:#57606a">//删除数组第一个元素
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//erase函数就是起到删除的作用，但是参数是迭代器
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//也可以成段删除，给的两个参数都是迭代器，分别是成段删除的开头位置和末尾位置
</span></span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>erase<span style="color:#1f2328">(</span>myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">(),</span>myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">()</span><span style="color:#0550ae">+</span><span style="color:#0550ae">3</span><span style="color:#1f2328">);</span><span style="color:#57606a">//这里的加操作符是迭代器元素个数的加
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//删除了这么多，我们重新输出看看
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//此处我们用的迭代器的方法遍历vector数组
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//值得一提的是，如果在遍历的过程中删除，那么vector元素在删除操作的同时
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//会把被删除元素后面的元素往前移动，有删除的那次指针不加
</span></span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;second out:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span>it <span style="color:#0550ae">=</span> myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">();</span>it<span style="color:#0550ae">&lt;</span>myvector<span style="color:#1f2328">.</span>end<span style="color:#1f2328">();</span>it<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;</span>x<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//一次性全部删除如何操作？
</span></span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>clear<span style="color:#1f2328">();</span><span style="color:#57606a">//对，调用一次clear就可以了。
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//重新分配给vector一些值，下面我们用到assign函数，分配内容。
</span></span></span><span style="display:flex;"><span><span style="color:#cf222e">const</span> Node a<span style="color:#1f2328">(</span><span style="color:#0550ae">100</span><span style="color:#1f2328">,</span><span style="color:#0550ae">0</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>assign<span style="color:#1f2328">(</span><span style="color:#0550ae">4</span><span style="color:#1f2328">,</span>a<span style="color:#1f2328">);</span><span style="color:#57606a">//可以直接分配，第一个是次数，第二个参数是数值(元素)
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//这样以后，myvector中就是4个{100,0}
</span></span></span><span style="display:flex;"><span>vector vt<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//再用迭代器来范围性的赋值，两个参数分别是开始元素和结尾元素
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//同时要说明的是，assign函数调用以后，先前的内容会被清除
</span></span></span><span style="display:flex;"><span>vt<span style="color:#1f2328">.</span>assign<span style="color:#1f2328">(</span>myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">()</span><span style="color:#0550ae">+</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span>myvector<span style="color:#1f2328">.</span>end<span style="color:#1f2328">()</span><span style="color:#0550ae">-</span><span style="color:#0550ae">1</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;third out:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span>it <span style="color:#0550ae">=</span> vt<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">();</span>it<span style="color:#0550ae">&lt;</span>vt<span style="color:#1f2328">.</span>end<span style="color:#1f2328">();</span>it<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;</span>x<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>Node myints<span style="color:#1f2328">[</span><span style="color:#0550ae">5</span><span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span><span style="color:#0550ae">5</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>myints<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span> <span style="color:#0550ae">=</span> Node<span style="color:#1f2328">(</span>i<span style="color:#1f2328">,</span>i<span style="color:#0550ae">+</span><span style="color:#0550ae">1</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>assign<span style="color:#1f2328">(</span>myints<span style="color:#1f2328">,</span>myints<span style="color:#0550ae">+</span><span style="color:#0550ae">5</span><span style="color:#1f2328">);</span><span style="color:#57606a">//最后，用数组assign赋值
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//反向迭代器，跟迭代器是一样的，就是以数组的末尾为开头，就是定义的方法有所不同
</span></span></span><span style="display:flex;"><span>vector<span style="color:#0550ae">::</span>reverse_iterator rit<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//相应的，要从末尾开始，我们要用vector中的rbgin()和rend()函数，意思自然是反向开头和反向末尾
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//反向迭代器的用法和迭代器其实是一样的，就是为了统一才出现了rbegin,rend;
</span></span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;fourth out:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span>rit<span style="color:#0550ae">=</span>myvector<span style="color:#1f2328">.</span>rbegin<span style="color:#1f2328">();</span>rit<span style="color:#0550ae">&lt;</span>myvector<span style="color:#1f2328">.</span>rend<span style="color:#1f2328">();</span>rit<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;</span>x<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//然后我们说一下用下标定位数组的元素,用at函数和用中括号是一样的效果
</span></span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;fifth out:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">.</span>at<span style="color:#1f2328">(</span><span style="color:#0550ae">2</span><span style="color:#1f2328">).</span>x<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">[</span><span style="color:#0550ae">2</span><span style="color:#1f2328">].</span>x<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//front函数和back函数是一对，分别指向数组第一个元素和最后一个元素的值
</span></span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">.</span>front<span style="color:#1f2328">().</span>x<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">.</span>back<span style="color:#1f2328">().</span>x<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;is empty? : &#34;</span><span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">.</span>empty<span style="color:#1f2328">()</span><span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span><span style="color:#57606a">//vector是否为空
</span></span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;size: &#34;</span><span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">.</span>size<span style="color:#1f2328">()</span><span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span><span style="color:#57606a">//vector中的元素个数
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//说到size，就顺便说一下resize，resize函数可以重新改变vector的大小
</span></span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>resize<span style="color:#1f2328">(</span><span style="color:#0550ae">3</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//这个就把size变成了3，如果原来的大小超过了3，就把超过的地方删去，
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//如果原来不足3，就自动调用缺省构造函数
</span></span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>resize<span style="color:#1f2328">(</span><span style="color:#0550ae">6</span><span style="color:#1f2328">,</span>Node<span style="color:#1f2328">(</span><span style="color:#0550ae">1</span><span style="color:#1f2328">,</span><span style="color:#0550ae">1</span><span style="color:#1f2328">));</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//这个就是把大小变成6，原本有的不动，扩展出来的用（0,0）填
</span></span></span><span style="display:flex;"><span>myvector<span style="color:#1f2328">.</span>resize<span style="color:#1f2328">(</span><span style="color:#0550ae">10</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;sixth out:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>myvector<span style="color:#1f2328">.</span>size<span style="color:#1f2328">();</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">[</span>i<span style="color:#1f2328">].</span>x<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//最后说一下swap
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//vector这里的swap和algorithm里面的swap是大不一样的，
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//这里的swap是交换两个vector容器
</span></span></span><span style="display:flex;"><span>vt<span style="color:#1f2328">.</span>swap<span style="color:#1f2328">(</span>myvector<span style="color:#1f2328">);</span><span style="color:#57606a">//进行了这步以后，vt就和myvector交换了
</span></span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34;seventh out:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>myvector<span style="color:#1f2328">.</span>size<span style="color:#1f2328">();</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span><span style="color:#0a3069">&#34; &#34;</span><span style="color:#0550ae">&lt;&lt;</span>myvector<span style="color:#1f2328">[</span>i<span style="color:#1f2328">].</span>x<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">//另外还有一种添加元素的方法是insert，但是不常用，这里就不介绍了
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">//还有一些其他的非常不常用，我就不介绍了。
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/*
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">输出：
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">first out: 0 1 2 3 4 5 6 7
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">second out: 4 5 6 7
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">third out: 100 100
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">fourth out: 4 3 2 1 0
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">fifth out:2 2 0 4
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">is empty? : 0
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">size: 5
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">sixth out: 0 1 2 1 1 1 30 30 30 30
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">seventh out: 100 100
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">*/</span>
</span></span></code></pre></div><p>基本上我平时常用的我均已经在代码中提到了，其实vector本身独立使用并不多见，更多的是vector跟其他stl库结合使用，尤其是algorithm库里的泛型算法。</p>
    </div>
    <a href="/posts/2012/08/10/stl-containers-e4b98b-vector/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2012/08/10/stl-algorithms-e4b98b-unique/" class="link black dim">
        STL Algorithms 之 unique
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>C++的文档中说，STL中的unique是类似于这样实现的：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>template &lt;class ForwardIterator&gt;
</span></span><span style="display:flex;"><span>  ForwardIterator unique ( ForwardIterator first, ForwardIterator last )
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  ForwardIterator result=first;
</span></span><span style="display:flex;"><span>  while (++first != last)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    if (!(*result == *first))  // or: if (!pred(*result,*first)) for the pred version
</span></span><span style="display:flex;"><span>      *(++result)=*first;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  return ++result;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>仔细一看就知道，它并不是帮你直接把一个数组中所有重复的元素除去，而是对数组扫描一次，只看当前元素和前面一个元素，如果当前值和前面的值相等，那么跳过，否则就把这个值算上，迭代器递增，最后返回给你一个位置，表示我扫描到多少个当前值与其前面一个元素值不同的元素。</p>
<p>所以，要真正利用好unique，我们必须先对我们所需要进行unique操作的数组排序，然后再使用unique。</p>
<p>这样以后其实还是不满足我们的要求的，因为实际上unique函数实现的只是把不同的元素“unique”放到数组的前面，而数组的后面还有一段重复的没有去掉。这个时候就可以利用到unique函数的返回值啦，它返回的就是重复元素出现的第一个位置。</p>
<p>另外，unique函数可以接受两个参数（数组的开头，数组的末尾），也可以接受三个参数（数组的开头，数组的末尾，两个元素的比较（即定义怎样算元素相等））</p>
<p>看一下实例吧：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#57606a">// resizing vector
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;vector&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;algorithm&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> <span style="color:#cf222e">namespace</span> std<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">bool</span> <span style="color:#6639ba">myfunction</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#1f2328">,</span> <span style="color:#cf222e">int</span> j<span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#1f2328">(</span>i<span style="color:#0550ae">==</span>j<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span> <span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">int</span> myints<span style="color:#1f2328">[]</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">{</span><span style="color:#0550ae">10</span><span style="color:#1f2328">,</span><span style="color:#0550ae">20</span><span style="color:#1f2328">,</span><span style="color:#0550ae">20</span><span style="color:#1f2328">,</span><span style="color:#0550ae">20</span><span style="color:#1f2328">,</span><span style="color:#0550ae">30</span><span style="color:#1f2328">,</span><span style="color:#0550ae">30</span><span style="color:#1f2328">,</span><span style="color:#0550ae">20</span><span style="color:#1f2328">,</span><span style="color:#0550ae">20</span><span style="color:#1f2328">,</span><span style="color:#0550ae">10</span><span style="color:#1f2328">};</span>    <span style="color:#57606a">// 10 20 20 20 30 30 20 20 10
</span></span></span><span style="display:flex;"><span>  vector<span style="color:#0550ae">&lt;</span><span style="color:#cf222e">int</span><span style="color:#0550ae">&gt;</span> myvector <span style="color:#1f2328">(</span>myints<span style="color:#1f2328">,</span>myints<span style="color:#0550ae">+</span><span style="color:#0550ae">9</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>  vector<span style="color:#0550ae">&lt;</span><span style="color:#cf222e">int</span><span style="color:#0550ae">&gt;::</span>iterator it<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  it <span style="color:#0550ae">=</span> unique <span style="color:#1f2328">(</span>myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">(),</span> myvector<span style="color:#1f2328">.</span>end<span style="color:#1f2328">());</span> <span style="color:#57606a">// 10 20 30 20 10 ?  ?  ?  ?
</span></span></span><span style="display:flex;"><span>  <span style="color:#57606a">//尖所指即it的位置                                //                ^            
</span></span></span><span style="display:flex;"><span>												  
</span></span><span style="display:flex;"><span>  myvector<span style="color:#1f2328">.</span>erase<span style="color:#1f2328">(</span> it <span style="color:#1f2328">,</span> myvector<span style="color:#1f2328">.</span>end<span style="color:#1f2328">()</span> <span style="color:#1f2328">);</span>       <span style="color:#57606a">// 第一种去掉末尾的方法
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;first: myvector contains:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">for</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>myvector<span style="color:#1f2328">.</span>size<span style="color:#1f2328">();</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34; &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> myvector<span style="color:#1f2328">[</span>i<span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span>  cout<span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  sort<span style="color:#1f2328">(</span>myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">(),</span>myvector<span style="color:#1f2328">.</span>end<span style="color:#1f2328">());</span>		<span style="color:#57606a">//先排序
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  it <span style="color:#0550ae">=</span> unique <span style="color:#1f2328">(</span>myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">(),</span> myvector<span style="color:#1f2328">.</span>end<span style="color:#1f2328">(),</span> myfunction<span style="color:#1f2328">);</span>   
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">// 使用比较函数，但此处是跟缺省的比较一样的。
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  myvector<span style="color:#1f2328">.</span>resize<span style="color:#1f2328">(</span> it <span style="color:#0550ae">-</span> myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">()</span> <span style="color:#1f2328">);</span>       <span style="color:#57606a">// 10 20 30 
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;second: myvector contains:&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">for</span> <span style="color:#1f2328">(</span>it<span style="color:#0550ae">=</span>myvector<span style="color:#1f2328">.</span>begin<span style="color:#1f2328">();</span> it<span style="color:#0550ae">!=</span>myvector<span style="color:#1f2328">.</span>end<span style="color:#1f2328">();</span> <span style="color:#0550ae">++</span>it<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34; &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0550ae">*</span>it<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  cout <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/*
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">输出：
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">first: myvector contains: 10 20 30 20 10
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">second: myvector contains: 10 20 30
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">*/</span>
</span></span></code></pre></div><p>深入阅读：<a href="http://www.cplusplus.com/reference/algorithm/unique/">C++官方网站上的描述</a>。</p>
    </div>
    <a href="/posts/2012/08/10/stl-algorithms-e4b98b-unique/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
    </section>
    </article>

    </main>
    <footer class="bg-near-white bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
    <a class="f4 fw4 hover-black no-underline mid-gray dn dib-ns pv2 ph3" href="https://wonderflow.info/">
      &copy;  奇迹之流WonderfloW 2025 
    </a>
    <div><div class="ananke-socials"></div>
</div>
    <a href="https://beian.miit.gov.cn/" class="link db f6 pa2 br3 bg-mid-gray white dim w4 tc"> 沪ICP备2020029591号 </a>
    
  </div>
</footer>


<div class="reading-progress" id="reading-progress"></div>


<button class="back-to-top" id="back-to-top" aria-label="Back to top">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="18 15 12 9 6 15"></polyline>
  </svg>
</button>


<script>
(function() {
  
  const progressBar = document.getElementById('reading-progress');
  const backToTop = document.getElementById('back-to-top');

  function updateProgress() {
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;

    if (progressBar) {
      progressBar.style.width = progress + '%';
    }

    
    if (backToTop) {
      if (scrollTop > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }
  }

  
  let ticking = false;
  window.addEventListener('scroll', function() {
    if (!ticking) {
      window.requestAnimationFrame(function() {
        updateProgress();
        ticking = false;
      });
      ticking = true;
    }
  });

  
  if (backToTop) {
    backToTop.addEventListener('click', function() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  
  updateProgress();
})();
</script>

  </body>
</html>
