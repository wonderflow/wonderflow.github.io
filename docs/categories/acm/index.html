<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>奇迹之流WonderfloW</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Nothing Replaces Hard Work!">
    <meta name="generator" content="Hugo 0.153.4">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.efe4d852f731d5d1fbb87718387202a97aafd768cdcdaed0662bbe6982e91824.css" >



  
    <link rel="stylesheet" href="/css/custom.css">
  


    


    
      
<link rel="shortcut icon" href="/favicon_io/favicon.ico" type="image/x-icon" />


    

    
    
      <link href="/categories/acm/index.xml" rel="alternate" type="application/rss+xml" title="奇迹之流WonderfloW" />
      <link href="/categories/acm/index.xml" rel="feed" type="application/rss+xml" title="奇迹之流WonderfloW" />
      
    

    
      <link rel="canonical" href="https://wonderflow.info/categories/acm/">
    

    
    
    <meta property="og:url" content="https://wonderflow.info/categories/acm/">
  <meta property="og:site_name" content="奇迹之流WonderfloW">
  <meta property="og:title" content="ACM">
  <meta property="og:description" content="Nothing Replaces Hard Work!">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="ACM">
  <meta itemprop="description" content="Nothing Replaces Hard Work!">
  <meta itemprop="datePublished" content="2012-09-05T05:45:23+00:00">
  <meta itemprop="dateModified" content="2012-09-05T05:45:23+00:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ACM">
  <meta name="twitter:description" content="Nothing Replaces Hard Work!">

      
      
    
	
  </head><body class="ma0 avenir production">

    



<header class="cover bg-top" style="background-image: url('https://wonderflow.info/images/gohugo-default-sample-hero-image.jpg');">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z3XG75RG8W"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
  <link rel="manifest" href="/favicon_io/site.webmanifest">
  <div class="bg-black-70">
    <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        奇迹之流WonderfloW
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>
    <div class="tc-l pv4 pv6-l ph3 ph4-ns">
      <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
        ACM
      </h1>
      
    </div>
  </div>
</header>

    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links dark-gray"></section>
    <section class="flex-ns mt5 flex-wrap justify-around">
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2012/09/05/e68891e79a84e5ad97e7aca6e4b8b2e68aa5e5918a/" class="link black dim">
        我的字符串报告（AC自动机详，后缀数组无）
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>上个学期开学的时候做的字符串报告，觉得还有些价值，做了些补充发上来，也许以后用得着。</p>
<h1 id="1-kmp">
    1 KMP<a class="hash-link" href="#1-kmp" title="Direct link to heading">#</a>
</h1><h2 id="11-概念">
    1.1 概念：<a class="hash-link" href="#11-%e6%a6%82%e5%bf%b5" title="Direct link to heading">#</a>
</h2><p>KMP是一种用来处理字符串匹配的算法。通俗的讲就是给你一个串A（ababababbc）和一个串B（ababbc），问你A串中是否包含B串。
解决这类问题的朴素算法就是枚举A串开始的位置，然后逐个位置对B串进行匹配。这样的算法复杂度是O（n*m）。而这里我们要介绍的KMP算法，就是解决这类问题最坏复杂度只要O（n+m）的算法。</p>
<p>KMP是由三个人共同提出的，他们的名字分别是Knuth、Morris、Pratt，这也是为什么这个算法叫KMP的原因，就是取了三个人的首字母。</p>
<h2 id="12-原理">
    1.2 原理：<a class="hash-link" href="#12-%e5%8e%9f%e7%90%86" title="Direct link to heading">#</a>
</h2><p>现假设我们有两个串A（ababababbc）和B（ababbc），然后我们有两个指针i和j，表示A[i-j+1..i]和B[1..j]完全相等。让我们来看一下KMP的工作过程。
在匹配的过程中，i不断的增加，随着i的增加，j相应的变化，如果A[i] == B[j]那么i和j一起增加，如果A[i]&lt;&gt;B[j]，那么j就需要减小，来找到另外一个较小的j使得A[i-j+1..i]和B[1..j]完全相等继续成立。当然，我们的j自然是减小的越少越好。
我们看到下面，i匹配到4的时候，i和j一直是相等的，所以i和j一起递增。但是当i和j都是5的时候，A[5]&lt;&gt;B[5]，那么怎么办呢，我们必须要减小j.假设我们要减小到j’，那么这个j’是多少呢。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>i =	1	2	3	4	5	6	7	8	9	10
</span></span><span style="display:flex;"><span>A=	a	b	a	b	a	b	a	b	b	c
</span></span><span style="display:flex;"><span>B=	a	b	a	b	b	c
</span></span><span style="display:flex;"><span>j=	1	2	3	4	5	6
</span></span></code></pre></div><p>思考过后我们会发现，之前已经满足A[i-j+1..i]和B[1..j]完全相等即A[1..i]的末j个字母已经和B串的前j个字母相等了，那么我们缩小后得到的j’，取的A[1..i]的末j’个字母一定比j取的字母少，也就是说对于A[1..i]的末j’个字母，一定是B数组的末j’个字母。
那么此时问题就变成了，找B数组中前j’个字母和末j’个字母完全相等的j’，当然，j’是越大越好的。我们发现B[1..4]=”abab”中，头两个字母和末两个字母是完全相等的，那么最大的j’自然是2，这样新的j就是2，然后我们继续匹配下去。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>i =	1	2	3	4	5	6	7	8	9	10
</span></span><span style="display:flex;"><span>A=	a	b	a	b	a	b	a	b	b	c
</span></span><span style="display:flex;"><span>B=			a	b	a	b	b	c
</span></span><span style="display:flex;"><span>j=			1	2	3	4	5	6
</span></span></code></pre></div><p>此时i变成了5，j变成了3，而A[i]和B[j]相等，继续匹配一直匹配到i=6，j=4的时候，又发生了之前那一幕，然后j再次变成了2。然后接下去就完全匹配成功了。</p>
    </div>
    <a href="/posts/2012/09/05/e68891e79a84e5ad97e7aca6e4b8b2e68aa5e5918a/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2012/08/08/e587a0e7a78de7ae80e58d95e7b1bbe59e8be79a84dp/" class="link black dim">
        几种简单类型的动态规划
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>今天又被鱼头拉着校验集训队的书，正好看了一下动态规划(DP)这块，顺便总结一下。发现几道POJ上的例题正好是自己没有做过的，正好拿来试试手，写写题解。</p>
<p><strong>线性动态规划：</strong>
1、最长递增（减）子序列：给出一个数列，求最长不下降（上升）子序列的长度。<a href="http://poj.org/problem?id=2533">poj2533</a>
这个经典的DP问题有两种解法，复杂度分别为O（n^2）和O（nlogn）。</p>
<p>O(n^2)的算法比较容易理解，就是用dp[i]表示数列到i位置的最长递增（减）子序列的长度。
第一重循环自然就是枚举i的位置，第二重循环就是从0到i-1，选择一个数字比num[i]小（大）的数的dp值加1，看能否更新dp[i]。
以最长递增子序列为例，就是dp[i] = max(dp[j]+1),(j=0..i-1,且num[j] &lt; num[i])。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#57606a">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> <span style="color:#cf222e">namespace</span> std<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> n<span style="color:#1f2328">,</span>k<span style="color:#1f2328">,</span>c<span style="color:#1f2328">,</span>ans<span style="color:#1f2328">[</span><span style="color:#0550ae">1100</span><span style="color:#1f2328">],</span>maxx<span style="color:#1f2328">,</span>i<span style="color:#1f2328">,</span>j<span style="color:#1f2328">,</span>data<span style="color:#1f2328">[</span><span style="color:#0550ae">1100</span><span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>	cin<span style="color:#0550ae">&gt;&gt;</span>n<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span>i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>n<span style="color:#1f2328">;</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">)</span>cin<span style="color:#0550ae">&gt;&gt;</span>data<span style="color:#1f2328">[</span>i<span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span>	ans<span style="color:#1f2328">[</span><span style="color:#0550ae">0</span><span style="color:#1f2328">]</span><span style="color:#0550ae">=</span><span style="color:#0550ae">1</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span>i<span style="color:#0550ae">=</span><span style="color:#0550ae">1</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>n<span style="color:#1f2328">;</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>		ans<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span><span style="color:#0550ae">=</span><span style="color:#0550ae">1</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span>j<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>j<span style="color:#0550ae">&lt;</span>i<span style="color:#1f2328">;</span>j<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#cf222e">if</span><span style="color:#1f2328">(</span>data<span style="color:#1f2328">[</span>j<span style="color:#1f2328">]</span><span style="color:#0550ae">&lt;</span>data<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span> <span style="color:#0550ae">&amp;&amp;</span> ans<span style="color:#1f2328">[</span>j<span style="color:#1f2328">]</span><span style="color:#0550ae">+</span><span style="color:#0550ae">1</span><span style="color:#0550ae">&gt;</span>ans<span style="color:#1f2328">[</span>i<span style="color:#1f2328">])</span>
</span></span><span style="display:flex;"><span>				ans<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span> <span style="color:#0550ae">=</span> ans<span style="color:#1f2328">[</span>j<span style="color:#1f2328">]</span> <span style="color:#0550ae">+</span> <span style="color:#0550ae">1</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>	maxx<span style="color:#0550ae">=</span><span style="color:#0550ae">1</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span>i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>n<span style="color:#1f2328">;</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">)</span><span style="color:#cf222e">if</span><span style="color:#1f2328">(</span>ans<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span><span style="color:#0550ae">&gt;</span>maxx<span style="color:#1f2328">)</span>maxx<span style="color:#0550ae">=</span>ans<span style="color:#1f2328">[</span>i<span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span>	cout<span style="color:#0550ae">&lt;&lt;</span>maxx<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>O（nlogn）的算法其实就是针对O（n^2）算法中的第二重循环进行优化，还是以最长递增子序列为例，我们维护一个待选序列ls，这个序列满足ls[i]中存放的就是最长递增子序列为长度i的数列中最大的一个元素。换句话说，到最后，ls数组有多长，最长递增子序列就有多长。
然后我们会发现，ls数组本身就是一组符合条件的最长递增子序列的解，里面的数本身就是有序的，然后更新的时候，我们就可以用到二分查找来进行优化了。
一开始的时候，ls数组长度为0，数字自动填充到ls数组中的第一个位置，长度变为1，然后后面每来一个数，都用二分搜索，找到ls数组中比当前插入值大的最小一个数的位置，然后替换它，如果找不到（即当前要插入的值是最大的），自然就是添加到ls数组末尾，使数组长度增加。
因为我是按照原始数组的顺序进行DP的，那么我当前要插入的值要找到在最终答案里的位置，由于是最长递增序列，那么我前面的数一定比我小，所以我插入的位置一定就是恰好所有前面的数都比我小的位置，替换掉的就是跟我有相同递增长度的那个值，但是我比那个数小，更有前途与后面的数构成更长的递增子序列。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>////二分查找优化 nlogn
</span></span><span style="display:flex;"><span>#include&lt;stdio.h&gt;
</span></span><span style="display:flex;"><span>#include&lt;string.h&gt;
</span></span><span style="display:flex;"><span>#include&lt;math.h&gt;
</span></span><span style="display:flex;"><span>#define MAX 1005
</span></span><span style="display:flex;"><span>int f[MAX];
</span></span><span style="display:flex;"><span>int i,j,ans,n;
</span></span><span style="display:flex;"><span>int left,right,x,mid;
</span></span><span style="display:flex;"><span>int main(){
</span></span><span style="display:flex;"><span>    scanf(&#34;%d&#34;,&amp;n);
</span></span><span style="display:flex;"><span>    ans=0;
</span></span><span style="display:flex;"><span>    for (i=1; i&lt;=n ; i++){
</span></span><span style="display:flex;"><span>        scanf(&#34;%d&#34;,&amp;x);
</span></span><span style="display:flex;"><span>        left=1;
</span></span><span style="display:flex;"><span>        right=ans;
</span></span><span style="display:flex;"><span>        while (left&lt;right){
</span></span><span style="display:flex;"><span>            mid=(left+right)/2;
</span></span><span style="display:flex;"><span>            if (f[mid]&lt;x) left=mid+1;
</span></span><span style="display:flex;"><span>            else right=mid;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        if (left&gt;=right&amp;&amp;x&gt;f[ans]||ans==0){
</span></span><span style="display:flex;"><span>            ans++;
</span></span><span style="display:flex;"><span>            f[ans]=x;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        else if (x&lt;f[left]){
</span></span><span style="display:flex;"><span>            f[left]=x;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(&#34;%d\n&#34;,ans);
</span></span><span style="display:flex;"><span>    return 0;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>2、最长公共子序列：求两个字符串的最长公共子序列的长度。 <a href="http://poj.org/problem?id=1458">poj1458</a></p>
    </div>
    <a href="/posts/2012/08/08/e587a0e7a78de7ae80e58d95e7b1bbe59e8be79a84dp/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2012/08/02/e689af-e69c80e79fade8b7affloyde79a84dpe8a7a3e6b395e8a7a3e9878a/" class="link black dim">
        扯 &amp;&amp; 最短路floyd的DP解法解释
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>帮鱼头整理集训队训练教程，据说要出书，瞬间感到压力巨大。就那些平时大家随便写写，只是给自己看看的，非常散漫的解题报告，和专题上很多算法本质都不理解的各种报告组成的一个文档。我真的，压力巨大。那么尽自己力量去整理吧。</p>
<p>整本书的结构就是：
章节（专题介绍-&gt;讲的参差不齐）；子目录（该专题算法介绍-&gt;伪代码(反正不是通俗易懂)）;
子目录：例题-&gt;题意-&gt;思路-&gt;代码（这就导致小半本书代码）。</p>
<p>我也不知道这样是好是坏，是否适合读者入门。反正我最讨厌大段大段贴代码的书了。</p>
<p>然后尽力整理吧，其实这本书倒更像是一个模板库，对于把所有专题都了解过的人，是一本很好的复习资料。我就花了一个晚上好好的把整个图论复习了一把。学到不少啊。然后在复习的过程中纠正了书本的各种错误！然后想想，我整理两章都这么折磨了，鱼头可是要出一整本书啊，真是，蛋疼了。</p>
<p>之前鱼头请客带我们一起去游泳，跟鱼头在地铁上聊到我们judge有很多产品，上线了以后出现了一不小心就不能用，然后三天两头出bug的情况。然后鱼头说要来一个测试审核机制，审核通过了才能上线。当时我就说，哪里等的及啊，我们每一个应用完成，都是迫在眉睫需要的时候急急忙忙上线的，而本身我们做judge也不存在竞争关系，大家都是做不同的功能，做好了就能上线的。归根结底还是人手不够，需求太多，耐心不够，时间不够。（PS：做的好没奖金，做的不好也没什么惩罚~o(∩_∩)o ~）这样的情况就导致了每每都是到了deadline我们的任务才完成，也来不及缓冲。</p>
<p>然后我觉得，出书这个事情，其实跟产品上线这个事情是一样的。现在就前期朱艺楠一个人搞搞，后期鱼头一个人搞搞，我跟ZYZ瞎参合一下。还这么急。肯定后面又是一堆bug。</p>
<p>要我来安排的话，就应该把校验书本这个任务安排给每一个想要参加regional比赛的队伍，因为校验书本本身也是一个整理模板的过程啊（针对这本书的特殊性，就是一个模板介绍。）然后每个队各尽所能编排自己队的模板（整理算法教程）。最后把书本的好坏也加入到是否能获得regional比赛资格的一个要素。然后大家精心整理的书再一合并，把每个队的优势专题截取下来，效果一定不会差！</p>
<p>（当然，这前半部分都是我的个人扯淡。具体说不定还存在很多很多我没考虑过的问题。不过我要强调的是：跟鱼头一起去游泳真开心，哈哈~）</p>
<p>然后在校验算法教程的时候，发现了很久以前碰到的一个问题：floyd求最短路，为什么就是那么DP的，为什么？思考了很久，在网上找到了答案~</p>
<p>floyd算法是求解ASPS(all paris shortest paths)的一种算法，时间复杂度是O(n^3). 边权可正可负。复杂度O(V^3)，求出任何一个点到其他点的最短路径。</p>
<p>floyd也是一种典型的动态规划算法。其动态规划方程是：</p>
<p>{% codeblock %}</p>
<p>dp[i][j][k] = min( dp[i][k][k-1]+dp[k][j][k-1]);</p>
<p>{% endcodeblock %}</p>
<p>很明显，对于一个N个节点的网络，可以设置状态数组为 dp[N][N][N]
然后根据状态转移的方程，得出代码如下：</p>
<p>{% codeblock %}</p>
<p>for(int i=1;i&lt;=N;i++)
for(int j=1;j&lt;=N;j++)
dp[i][j][0] = 0;
for(int k=1;k&lt;=N;k++){
for(int i=1;i&lt;=N;i++){
for(int j=1;j&lt;=N;j++){
dp[i][j][k] = min(dp[i][j][k-1], dp[i][k][k-1]+dp[k][j][k-1]);
}}}</p>
<p>{% endcodeblock %}</p>
<p>这个状态除了可以用三维的表示外，还可以用二维（或者滚动数组）表示。因为每个k只和k-1有关。</p>
<p>{% codeblock %}</p>
<p>for(int i=1;i&lt;=N;i++)
for(int j=1;j&lt;=N;j++)
dp[i][j] = 0;
for(int k=1;k&lt;=N;k++){
for(int i=1;i&lt;=N;i++){
for(int j=1;j&lt;=N;j++){
dp[i][j] = min(dp[i][j], dp[i][k]+dp[k][j]);
}}}</p>
    </div>
    <a href="/posts/2012/08/02/e689af-e69c80e79fade8b7affloyde79a84dpe8a7a3e6b395e8a7a3e9878a/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2012/07/27/2012e5a49ae6a0a1e7acace4b880e38081e7acace4ba8ce59cbaefbc88hdu4300hdu4319efbc89/" class="link black dim">
        2012多校第一、第二场（hdu4300~hdu4319）
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>说一下自己搞出来的题目吧，感觉多校其实比较水的，题目也不难，模板题，陈题很多，不过两场我们队的名次都很烂诶，30开外了都，抗不住啊！出现的问题就是队里的模板太少、不全。不过也好，做一场补一场的模板。</p>
<p>hdu4300《Clairewd’s message》是个字符串，利用next数组求解，小trick就是next数组求出来的值要小于(len-1)/2才取。即：while(len-next[dx]&lt;=(len-1)/2)dx = next[dx];</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#57606a">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> <span style="color:#cf222e">namespace</span> std<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> map<span style="color:#1f2328">[</span><span style="color:#0550ae">30</span><span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> len<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> s<span style="color:#1f2328">[</span><span style="color:#0550ae">101000</span><span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> next<span style="color:#1f2328">[</span><span style="color:#0550ae">101000</span><span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">char</span> str<span style="color:#1f2328">[</span><span style="color:#0550ae">101000</span><span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">void</span> <span style="color:#6639ba">get_next</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">int</span> i<span style="color:#1f2328">,</span>j<span style="color:#1f2328">;</span>i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>next<span style="color:#1f2328">[</span><span style="color:#0550ae">0</span><span style="color:#1f2328">]</span><span style="color:#0550ae">=-</span><span style="color:#0550ae">1</span><span style="color:#1f2328">;</span>j<span style="color:#0550ae">=-</span><span style="color:#0550ae">1</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">while</span><span style="color:#1f2328">(</span>i<span style="color:#0550ae">&lt;</span>len<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">if</span><span style="color:#1f2328">(</span>j<span style="color:#0550ae">==-</span><span style="color:#0550ae">1</span><span style="color:#0550ae">||</span>map<span style="color:#1f2328">[</span>s<span style="color:#1f2328">[</span>j<span style="color:#1f2328">]]</span><span style="color:#0550ae">==</span>s<span style="color:#1f2328">[</span>i<span style="color:#1f2328">])</span>
</span></span><span style="display:flex;"><span>     <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#0550ae">++</span>i<span style="color:#1f2328">;</span><span style="color:#0550ae">++</span>j<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>           next<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span><span style="color:#0550ae">=</span>j<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">else</span>  j<span style="color:#0550ae">=</span>next<span style="color:#1f2328">[</span>j<span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">int</span> T<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>	scanf<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;%d&#34;</span><span style="color:#1f2328">,</span><span style="color:#0550ae">&amp;</span>T<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">while</span><span style="color:#1f2328">(</span>T<span style="color:#0550ae">--</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>		scanf<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;%s&#34;</span><span style="color:#1f2328">,</span>str<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>		len <span style="color:#0550ae">=</span> strlen<span style="color:#1f2328">(</span>str<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>len<span style="color:#1f2328">;</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>			map<span style="color:#1f2328">[</span>str<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span><span style="color:#0550ae">-</span><span style="color:#0a3069">&#39;a&#39;</span><span style="color:#1f2328">]</span> <span style="color:#0550ae">=</span> i<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>		scanf<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;%s&#34;</span><span style="color:#1f2328">,</span>str<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>		len <span style="color:#0550ae">=</span> strlen<span style="color:#1f2328">(</span>str<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>len<span style="color:#1f2328">;</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>			s<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span> <span style="color:#0550ae">=</span> str<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span> <span style="color:#0550ae">-</span> <span style="color:#0a3069">&#39;a&#39;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>		get_next<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#57606a">//	cout&lt;&lt;next[len]&lt;&lt;endl;
</span></span></span><span style="display:flex;"><span>		<span style="color:#cf222e">int</span> dx <span style="color:#0550ae">=</span> len<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">while</span><span style="color:#1f2328">(</span>len<span style="color:#0550ae">-</span>next<span style="color:#1f2328">[</span>dx<span style="color:#1f2328">]</span><span style="color:#0550ae">&lt;=</span><span style="color:#1f2328">(</span>len<span style="color:#0550ae">-</span><span style="color:#0550ae">1</span><span style="color:#1f2328">)</span><span style="color:#0550ae">/</span><span style="color:#0550ae">2</span><span style="color:#1f2328">)</span>dx <span style="color:#0550ae">=</span> next<span style="color:#1f2328">[</span>dx<span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span>	<span style="color:#57606a">//	cout&lt;&lt;next[dx]&lt;&lt;endl;
</span></span></span><span style="display:flex;"><span>		<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>len<span style="color:#0550ae">-</span>next<span style="color:#1f2328">[</span>dx<span style="color:#1f2328">];</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>			printf<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;%c&#34;</span><span style="color:#1f2328">,</span>s<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]</span><span style="color:#0550ae">+</span><span style="color:#0a3069">&#39;a&#39;</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> i<span style="color:#0550ae">=</span><span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>i<span style="color:#0550ae">&lt;</span>len<span style="color:#0550ae">-</span>next<span style="color:#1f2328">[</span>dx<span style="color:#1f2328">];</span>i<span style="color:#0550ae">++</span><span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>			printf<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;%c&#34;</span><span style="color:#1f2328">,</span>map<span style="color:#1f2328">[</span>s<span style="color:#1f2328">[</span>i<span style="color:#1f2328">]]</span><span style="color:#0550ae">+</span><span style="color:#0a3069">&#39;a&#39;</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>		printf<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;</span><span style="color:#0a3069">\n</span><span style="color:#0a3069">&#34;</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>hdu4307《Matrix》先搞出一个公式（HJWAJ）搞的，然后看见这个公式YY一下，网络流，最小割模型。
D = sigama(bij)-(sigama(bij)(ai=0,aj=0)+sigama(bij)(ai=1,aj=0)+sigama(bij)(ai=0,aj=1))
左边一个源点，右边一个汇点，中间1000个点，表示ai。源点表示ai=0，汇点表示ai=1，对于ai=0的情况，bij作为作为一条边连向源点（小优化：因为aj无论是0是1，只要ai为0，就要连源点，那么对于每个ai，直接求和100个j，变成一条边再连，就能少掉1000*999条边）；然后因为ai=1的时候，一定会取ci的值，那么ci作为一条边让ai连向汇点。
最后看ai=1，aj=0的情况，就是说，i处的值和j处的值分属两个不同的阵营的生活，要多割掉一条边权，那么直接在i和j之间再连一条bij的边权就过了。
想出建边方法后，这种数学外壳的网络流，估计还是他会先碰到，所以让HJWAJ练练手写了一下，贴下他的代码：</p>
    </div>
    <a href="/posts/2012/07/27/2012e5a49ae6a0a1e7acace4b880e38081e7acace4ba8ce59cbaefbc88hdu4300hdu4319efbc89/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2012/01/07/2012efbc8ce696b0e79a84e5bc80e5a78b/" class="link black dim">
        2012，新的开始
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>早上醒来，盯着日历看了好一会，总觉得有点别扭，想不到，大家口中说了这么久的2012就这么来了。而它的一月、它的开头，却像是往常任何一年的开头一样，稀松平常。大家依旧是忙着复习考试，忙着回家，忙着过年。但我总觉得，它该有所不同。</p>
<p>大三也就在我们这帮人不断的呐喊着“我们也大三了！”的声音中悄悄过去了一半。暑假里我是提前过来的，所以我对开学没有什么清晰的概念。但是我记得好吟开学那天来，我去一号门接了他，他还请我在那吃了饭，我问他，怎么提前来了几天，他说来学开车了。然后前天，他回家前那晚上，我问好吟，学车的进度怎么样了，好吟说，还是那样。当时笑的前仰后合的。后来细想想，这开学前、学期结束一前一后两番对话，真是个深刻的标记，我标注出了我们的一个学期，时光，真匆忙。
一个学期过去了，仔细想想这20周，都在忙些什么呢？</p>
<p>前四周小学期我记得主要是三件事，一是做题目准备regional，二是跟李翔两个人做了个进销存一体管理系统，三是完善了一下图灵杯的初步。</p>
<p>后来regional在上海赛区拿了块铜牌，既是幸运也是遗憾，那该是夺金最容易的一场了，不过也差点什么也没拿到。这些都已经总结果，吸取了教训就好。跟李翔一起做的那个进销存一体管理系统，本来准备给老妈店里装上直接用的。不过后来由于人力和时间的原因，只是做了个次品，很多安全问题没有考虑，很多bug没有测试，根本不可能投入使用。有点得不偿失的感觉，该用更多的时间准备regional比赛的。</p>
<p>然后接下来的一个月，5<del>8周，除了上课之外，就是做比赛，做题目，看专题，准备去上海比赛了。这中间我们wonderflow经常在一起吃饭，讨论，跟老高和嘉炜两位队友培养了深厚的情谊。才发现原来老高每天六点多就起床看书了，生活如此高品质，呵呵</del></p>
<p>9~13周，这五周主要是搞两件事。一是参与组织了一场南京市ACM邀请赛花了两周，然后就是写图灵杯复赛的技能，调bug，给选手们解答各种各样的疑问，以及搞初赛，复赛，决赛三场比赛了。其中最苦的就是给选手们答疑了，个中滋味，只有尝试过才知道。不过这倒是锻炼了我的耐心，呵呵。</p>
<p>接下来的一个月，14~17是解决上课的各种大作业。网络编程课，写了一个带聊天功能的五子棋网络游戏室。现代交换原理课写了一个摘挂机之类的东西，算是学习了一下C#怎么玩。然后就是耗时两周的.net开发了，终于学得了心仪已久的网站开发技术，入了门才知道，像家鸣这样的前端UI写的这么好的人，真心是个大牛！</p>
<p>最后四周，就是学习考试了。前两周，趁着别人还在做网站，而自己已经做完的时间，把TCP/IP协议族看了一下，确实是博大精深，书写得好的标志就是，再枯燥的东西，他也能让你有兴趣孜孜不倦的看下去。而《TCP/IP协议族》显然就是这样一本好书。虽然最后自以为是，完全没复习《TCP/IP》这门课，而考到了自己这个学期的最低分，但是不得不说，就是这门课让我对《计算机网络》有了较深刻的认识。让自己以后跟人吹牛说自己是网络工程专业的时候，更有了些许底气，哈哈~</p>
<p>再接下来学到东西的科目就是《计算机网络》了，陈清华老师真心是个不错的老师，每次上课带一个超大的水杯，装满谁，却只喝一口，以及不带U盘，却带个巨大的光驱和一大叠光盘的行为以及风趣幽默的讲课风格给我们留下了深刻的印象。最后还要谢谢陈老师给了我一个满意的计算机网络成绩，呵呵。
总体成绩：《计网》优，《组原》良，《软件工程方法学》良，《TCP/IP》中，《网编》优，《网管》良，《现交》中，《web开发》优。</p>
<p>虽然自己不追求绩点，分数，但是分数低了总归是一件很没面子的事情。还好这学期基本上所有的课的成绩都不算是没面子。而像我这样上课看看小说，上上知乎、人人，还经常带个电脑写写代码，却很少认真听课的同学（PS:陈老师的每节课我都认真听~），得到这样的成绩，应该算是一件比较幸运的事情了吧。至少拿着成绩单有脸回家过年了，呵呵~</p>
<p>2011这一年来，星姐带领了我，带领了我们集训队。如今星姐退役了，我接替了他，担任了队长。我知道我的责任重大。每当跟星姐一起吃饭，我忧心忡忡的跟星姐说，你就这么撤了，可我还什么都没有学会呢的时候，星姐总是跟我说，这些东西对我来说很简单的，不用担心。我知道星姐很信任我，所以我会努力的，明年全年，我们都会为了regional的金牌而奋斗。</p>
<p>明年前三周，把大加题计划尽可能完成，然后把驾照拿了。
接下来就是POJ：1000题，办校赛。</p>
<p>加油吧！人生就是不停的战斗！</p>
    </div>
    <a href="/posts/2012/01/07/2012efbc8ce696b0e79a84e5bc80e5a78b/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
    </section>
    </article>

    </main>
    <footer class="bg-near-white bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
    <a class="f4 fw4 hover-black no-underline mid-gray dn dib-ns pv2 ph3" href="https://wonderflow.info/">
      &copy;  奇迹之流WonderfloW 2025 
    </a>
    <div><div class="ananke-socials"></div>
</div>
    <a href="https://beian.miit.gov.cn/" class="link db f6 pa2 br3 bg-mid-gray white dim w4 tc"> 沪ICP备2020029591号 </a>
    
  </div>
</footer>


<div class="reading-progress" id="reading-progress"></div>


<button class="back-to-top" id="back-to-top" aria-label="Back to top">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="18 15 12 9 6 15"></polyline>
  </svg>
</button>


<script>
(function() {
  
  const progressBar = document.getElementById('reading-progress');
  const backToTop = document.getElementById('back-to-top');

  function updateProgress() {
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;

    if (progressBar) {
      progressBar.style.width = progress + '%';
    }

    
    if (backToTop) {
      if (scrollTop > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }
  }

  
  let ticking = false;
  window.addEventListener('scroll', function() {
    if (!ticking) {
      window.requestAnimationFrame(function() {
        updateProgress();
        ticking = false;
      });
      ticking = true;
    }
  });

  
  if (backToTop) {
    backToTop.addEventListener('click', function() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  
  updateProgress();
})();
</script>

  </body>
</html>
