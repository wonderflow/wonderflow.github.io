<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>北京container技术大会 | 奇迹之流WonderfloW</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="可以看我的印象笔记共享，格式更加漂亮一些。
此次去北京参加的container大会，主办方为csdn，实际会议主持为docker中文社区创始人马全一。会议时间为一天，从早上九点开始一直到晚上六点结束，共包含16个主题。虽说是container大会，但实际上基本围绕docker展开。期间也讲到了社区较为火热的IaaS平台openstack，以及PaaS平台Cloudfoundry，总的来说收获颇丰。
会议流程： 
以下我将按每个有收获的主题分别讲述我的思考和总结。

    Jrome（Hello Container Ops）#
正如会议流程所示，第一个讲的是docker的开发工程师Jrome。我觉得他讲述了以下两点比较有意思： 1. docker container的应用场景： 1.1 Web applications 1.2 API backends 1.3 Databases (SQL, NoSQL) 1.4 Big data 1.5 Message queues 总的来说就是涵盖了几乎所有linux server下的工作负载，并且是跨linux不同版本的，据说后面还会加入windows的支持。 2. docker的优势/为什么用docker 2.1 非常轻，以容器做隔离性能损失极小。 2.2 平台无关性使开发、上线流程一体化，减轻了大量运维工作。 2.3 使用dockerfile对镜像高度可定制 2.4 部署、迁移，快速、稳定、简便 2.5 镜像的层级化使使管理非常方便，极易备份恢复等 2.6 共享宿主机使文件和信息共享变得非常方便(volume)

    喻勇&amp;孙宏亮（container技术在cloudfoundry中的演化）#
关于这一项，宏亮学长的内容讲的很精彩，可以在实验室找机会给大家也分享一下这一块内容，在此就略过不表。
其中Frank(喻勇)除了介绍diego以外，还提到的几点让我感到非常有收获： 1. cloudfoundry现有的不足之处： 1.1 组件内部设计紧耦合,当时设计的时候就没有考虑到要再分割。 1.2 cloud_controller的负载过重，什么事情都要经过它 1.3 复杂的交互形成环状的依赖，使新功能不易添加，老的功能也不易维护。 1.4 Domain Specic，所有应用都是appname.[domain]，固定的模式使应用想要使用/扩展一个新域名变得非常苦难。 1.5 platform Specic，几乎只能稳定运行在linux ubuntu平台上 1.6 ruby编写的dea使应用处理效率低下 2. 容器技术影响未来PaaS的走向 2.1 从软件开发的角度看，开发测试和软件发布的流程都会发生较大的变化。产生诸如： * 产品化的container生命周期管理方案 * 多container复杂应用协同工作 * image host交互（类似github） * image的静态安全性">
    <meta name="generator" content="Hugo 0.153.4">
    
    
    
      <meta name="robots" content="index, follow">
    
    <meta name="author" content="admin">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.efe4d852f731d5d1fbb87718387202a97aafd768cdcdaed0662bbe6982e91824.css" >



  
    <link rel="stylesheet" href="/css/custom.css">
  


    


    
      
<link rel="shortcut icon" href="/favicon_io/favicon.ico" type="image/x-icon" />


    

    

    
      <link rel="canonical" href="https://wonderflow.info/posts/2014/10/22/e58c97e4baaccontainere68a80e69cafe5a4a7e4bc9a/">
    

    
    
    <meta property="og:url" content="https://wonderflow.info/posts/2014/10/22/e58c97e4baaccontainere68a80e69cafe5a4a7e4bc9a/">
  <meta property="og:site_name" content="奇迹之流WonderfloW">
  <meta property="og:title" content="北京container技术大会">
  <meta property="og:description" content="可以看我的印象笔记共享，格式更加漂亮一些。
此次去北京参加的container大会，主办方为csdn，实际会议主持为docker中文社区创始人马全一。会议时间为一天，从早上九点开始一直到晚上六点结束，共包含16个主题。虽说是container大会，但实际上基本围绕docker展开。期间也讲到了社区较为火热的IaaS平台openstack，以及PaaS平台Cloudfoundry，总的来说收获颇丰。
会议流程： 以下我将按每个有收获的主题分别讲述我的思考和总结。
Jrome（Hello Container Ops）# 正如会议流程所示，第一个讲的是docker的开发工程师Jrome。我觉得他讲述了以下两点比较有意思： 1. docker container的应用场景： 1.1 Web applications 1.2 API backends 1.3 Databases (SQL, NoSQL) 1.4 Big data 1.5 Message queues 总的来说就是涵盖了几乎所有linux server下的工作负载，并且是跨linux不同版本的，据说后面还会加入windows的支持。 2. docker的优势/为什么用docker 2.1 非常轻，以容器做隔离性能损失极小。 2.2 平台无关性使开发、上线流程一体化，减轻了大量运维工作。 2.3 使用dockerfile对镜像高度可定制 2.4 部署、迁移，快速、稳定、简便 2.5 镜像的层级化使使管理非常方便，极易备份恢复等 2.6 共享宿主机使文件和信息共享变得非常方便(volume)
喻勇&amp;孙宏亮（container技术在cloudfoundry中的演化）# 关于这一项，宏亮学长的内容讲的很精彩，可以在实验室找机会给大家也分享一下这一块内容，在此就略过不表。
其中Frank(喻勇)除了介绍diego以外，还提到的几点让我感到非常有收获： 1. cloudfoundry现有的不足之处： 1.1 组件内部设计紧耦合,当时设计的时候就没有考虑到要再分割。 1.2 cloud_controller的负载过重，什么事情都要经过它 1.3 复杂的交互形成环状的依赖，使新功能不易添加，老的功能也不易维护。 1.4 Domain Specic，所有应用都是appname.[domain]，固定的模式使应用想要使用/扩展一个新域名变得非常苦难。 1.5 platform Specic，几乎只能稳定运行在linux ubuntu平台上 1.6 ruby编写的dea使应用处理效率低下 2. 容器技术影响未来PaaS的走向 2.1 从软件开发的角度看，开发测试和软件发布的流程都会发生较大的变化。产生诸如： * 产品化的container生命周期管理方案 * 多container复杂应用协同工作 * image host交互（类似github） * image的静态安全性">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2014-10-22T03:31:08+00:00">
    <meta property="article:modified_time" content="2014-10-22T03:31:08+00:00">
    <meta property="article:tag" content="Container">
    <meta property="article:tag" content="Report">

  <meta itemprop="name" content="北京container技术大会">
  <meta itemprop="description" content="可以看我的印象笔记共享，格式更加漂亮一些。
此次去北京参加的container大会，主办方为csdn，实际会议主持为docker中文社区创始人马全一。会议时间为一天，从早上九点开始一直到晚上六点结束，共包含16个主题。虽说是container大会，但实际上基本围绕docker展开。期间也讲到了社区较为火热的IaaS平台openstack，以及PaaS平台Cloudfoundry，总的来说收获颇丰。
会议流程： 以下我将按每个有收获的主题分别讲述我的思考和总结。
Jrome（Hello Container Ops）# 正如会议流程所示，第一个讲的是docker的开发工程师Jrome。我觉得他讲述了以下两点比较有意思： 1. docker container的应用场景： 1.1 Web applications 1.2 API backends 1.3 Databases (SQL, NoSQL) 1.4 Big data 1.5 Message queues 总的来说就是涵盖了几乎所有linux server下的工作负载，并且是跨linux不同版本的，据说后面还会加入windows的支持。 2. docker的优势/为什么用docker 2.1 非常轻，以容器做隔离性能损失极小。 2.2 平台无关性使开发、上线流程一体化，减轻了大量运维工作。 2.3 使用dockerfile对镜像高度可定制 2.4 部署、迁移，快速、稳定、简便 2.5 镜像的层级化使使管理非常方便，极易备份恢复等 2.6 共享宿主机使文件和信息共享变得非常方便(volume)
喻勇&amp;孙宏亮（container技术在cloudfoundry中的演化）# 关于这一项，宏亮学长的内容讲的很精彩，可以在实验室找机会给大家也分享一下这一块内容，在此就略过不表。
其中Frank(喻勇)除了介绍diego以外，还提到的几点让我感到非常有收获： 1. cloudfoundry现有的不足之处： 1.1 组件内部设计紧耦合,当时设计的时候就没有考虑到要再分割。 1.2 cloud_controller的负载过重，什么事情都要经过它 1.3 复杂的交互形成环状的依赖，使新功能不易添加，老的功能也不易维护。 1.4 Domain Specic，所有应用都是appname.[domain]，固定的模式使应用想要使用/扩展一个新域名变得非常苦难。 1.5 platform Specic，几乎只能稳定运行在linux ubuntu平台上 1.6 ruby编写的dea使应用处理效率低下 2. 容器技术影响未来PaaS的走向 2.1 从软件开发的角度看，开发测试和软件发布的流程都会发生较大的变化。产生诸如： * 产品化的container生命周期管理方案 * 多container复杂应用协同工作 * image host交互（类似github） * image的静态安全性">
  <meta itemprop="datePublished" content="2014-10-22T03:31:08+00:00">
  <meta itemprop="dateModified" content="2014-10-22T03:31:08+00:00">
  <meta itemprop="wordCount" content="150">
  <meta itemprop="keywords" content="Container,Report">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="北京container技术大会">
  <meta name="twitter:description" content="可以看我的印象笔记共享，格式更加漂亮一些。
此次去北京参加的container大会，主办方为csdn，实际会议主持为docker中文社区创始人马全一。会议时间为一天，从早上九点开始一直到晚上六点结束，共包含16个主题。虽说是container大会，但实际上基本围绕docker展开。期间也讲到了社区较为火热的IaaS平台openstack，以及PaaS平台Cloudfoundry，总的来说收获颇丰。
会议流程： 以下我将按每个有收获的主题分别讲述我的思考和总结。
Jrome（Hello Container Ops）# 正如会议流程所示，第一个讲的是docker的开发工程师Jrome。我觉得他讲述了以下两点比较有意思： 1. docker container的应用场景： 1.1 Web applications 1.2 API backends 1.3 Databases (SQL, NoSQL) 1.4 Big data 1.5 Message queues 总的来说就是涵盖了几乎所有linux server下的工作负载，并且是跨linux不同版本的，据说后面还会加入windows的支持。 2. docker的优势/为什么用docker 2.1 非常轻，以容器做隔离性能损失极小。 2.2 平台无关性使开发、上线流程一体化，减轻了大量运维工作。 2.3 使用dockerfile对镜像高度可定制 2.4 部署、迁移，快速、稳定、简便 2.5 镜像的层级化使使管理非常方便，极易备份恢复等 2.6 共享宿主机使文件和信息共享变得非常方便(volume)
喻勇&amp;孙宏亮（container技术在cloudfoundry中的演化）# 关于这一项，宏亮学长的内容讲的很精彩，可以在实验室找机会给大家也分享一下这一块内容，在此就略过不表。
其中Frank(喻勇)除了介绍diego以外，还提到的几点让我感到非常有收获： 1. cloudfoundry现有的不足之处： 1.1 组件内部设计紧耦合,当时设计的时候就没有考虑到要再分割。 1.2 cloud_controller的负载过重，什么事情都要经过它 1.3 复杂的交互形成环状的依赖，使新功能不易添加，老的功能也不易维护。 1.4 Domain Specic，所有应用都是appname.[domain]，固定的模式使应用想要使用/扩展一个新域名变得非常苦难。 1.5 platform Specic，几乎只能稳定运行在linux ubuntu平台上 1.6 ruby编写的dea使应用处理效率低下 2. 容器技术影响未来PaaS的走向 2.1 从软件开发的角度看，开发测试和软件发布的流程都会发生较大的变化。产生诸如： * 产品化的container生命周期管理方案 * 多container复杂应用协同工作 * image host交互（类似github） * image的静态安全性">

      
      
    
	
  </head><body class="ma0 avenir production">

    

  <header>
    <div class="bg-near-white">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        奇迹之流WonderfloW
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>
    </div>
  </header>


    <main class="pb7" role="main">
      
<div class="flex-l mt2 mw8 center">
  <article class="center cf pv5 ph3 ph4-ns mw7">
    <header>
      <p class="f6 b helvetica tracked">
        POSTS
      </p>
      <h1 class="f1">
        北京container技术大会
      </h1>
    </header>
    <div class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray">
      <p><a href="https://app.yinxiang.com/shard/s29/sh/db4cbf8e-eed7-45cd-89f0-1bca3a3512f3/e0188caf5e8b92181568798330f5356a">可以看我的印象笔记共享，格式更加漂亮一些。</a></p>
<p>此次去北京参加的container大会，主办方为csdn，实际会议主持为docker中文社区创始人马全一。会议时间为一天，从早上九点开始一直到晚上六点结束，共包含16个主题。虽说是container大会，但实际上基本围绕docker展开。期间也讲到了社区较为火热的IaaS平台openstack，以及PaaS平台Cloudfoundry，总的来说收获颇丰。</p>
<p><strong>会议流程：</strong> <img src="http://raw.githubusercontent.com/wonderflow/pic/master/container_con_flow.png" alt="会议流程"></p>
<p>以下我将按每个有收获的主题分别讲述我的思考和总结。</p>
<h1 id="jromehello-container-ops">
    Jrome（Hello Container Ops）<a class="hash-link" href="#jromehello-container-ops" title="Direct link to heading">#</a>
</h1><p>正如会议流程所示，第一个讲的是docker的开发工程师Jrome。我觉得他讲述了以下两点比较有意思： 1. docker container的应用场景： 1.1 Web applications 1.2 API backends 1.3 Databases (SQL, NoSQL) 1.4 Big data 1.5 Message queues 总的来说就是涵盖了几乎所有linux server下的工作负载，并且是跨linux不同版本的，据说后面还会加入windows的支持。 2. docker的优势/为什么用docker 2.1 非常轻，以容器做隔离性能损失极小。 2.2 平台无关性使开发、上线流程一体化，减轻了大量运维工作。 2.3 使用dockerfile对镜像高度可定制 2.4 部署、迁移，快速、稳定、简便 2.5 镜像的层级化使使管理非常方便，极易备份恢复等 2.6 共享宿主机使文件和信息共享变得非常方便(volume)</p>
<h1 id="喻勇孙宏亮container技术在cloudfoundry中的演化">
    喻勇&amp;孙宏亮（container技术在cloudfoundry中的演化）<a class="hash-link" href="#%e5%96%bb%e5%8b%87%e5%ad%99%e5%ae%8f%e4%ba%aecontainer%e6%8a%80%e6%9c%af%e5%9c%a8cloudfoundry%e4%b8%ad%e7%9a%84%e6%bc%94%e5%8c%96" title="Direct link to heading">#</a>
</h1><p>关于这一项，宏亮学长的内容讲的很精彩，可以在实验室找机会给大家也分享一下这一块内容，在此就略过不表。</p>
<p>其中Frank(喻勇)除了介绍diego以外，还提到的几点让我感到非常有收获： 1. cloudfoundry现有的不足之处： 1.1 组件内部设计紧耦合,当时设计的时候就没有考虑到要再分割。 1.2 cloud_controller的负载过重，什么事情都要经过它 1.3 复杂的交互形成环状的依赖，使新功能不易添加，老的功能也不易维护。 1.4 Domain Specic，所有应用都是appname.[domain]，固定的模式使应用想要使用/扩展一个新域名变得非常苦难。 1.5 platform Specic，几乎只能稳定运行在linux ubuntu平台上 1.6 ruby编写的dea使应用处理效率低下 2. 容器技术影响未来PaaS的走向 2.1 从软件开发的角度看，开发测试和软件发布的流程都会发生较大的变化。产生诸如： * 产品化的container生命周期管理方案 * 多container复杂应用协同工作 * image host交互（类似github） * image的静态安全性</p>
<p>2.2 从云计算产业链来看： * SaaS层面，由于以container形式交付应用变得非常简便，就会出现更多针对云平台的应用; * PaaS层面，container使部署和维护变得简单，DevOps更加实际，将成为巨大的技术推动力，PaaS会更易用; * 而下一代的IaaS也将变得更加强大，可以从各种粒度上面根据需求分离硬件。</p>
<p>在我看来，docker作为容器一旦加入到IaaS层，那么应用可以直接在docker中运行，只要IaaS管理的好，PaaS的概念终将随之淡化。实际上它们之间的界限也就越来越不分明了。</p>
<h1 id="刘永峰docker时代公有云面临的挑战和机遇">
    刘永峰(Docker时代，公有云面临的挑战和机遇)<a class="hash-link" href="#%e5%88%98%e6%b0%b8%e5%b3%b0docker%e6%97%b6%e4%bb%a3%e5%85%ac%e6%9c%89%e4%ba%91%e9%9d%a2%e4%b8%b4%e7%9a%84%e6%8c%91%e6%88%98%e5%92%8c%e6%9c%ba%e9%81%87" title="Direct link to heading">#</a>
</h1><p>刘永峰是腾讯的产品经理，他指出了目前IaaS存在的问题： 1. 使用门槛高 2. 资源利用率不高 3. 迁移困难 4. 无统一的标准</p>
<p>而他所指的挑战是：Docker弥合了不同的IAAS之间的差异，降低IAAS 服务商用户粘性，使得跨云服务商迁移更加自由。 他所指的机遇是：Docker催生了云计算服务标准化: 1. 服务构建标准化（Dockerfile） 2. 服务交付形态标准化（容器） 3. 服务运行环境标准化（Docker引擎）</p>
<p>他说，<strong>云计算的本质不是虚拟化，而是计算变成服务！</strong></p>
<p>他还认为，构建云端集成开发环境将是未来趋势。</p>
<h1 id="李闻matrix基于container的大规模集群操作系统">
    李闻（Matrix：基于container的大规模集群操作系统）<a class="hash-link" href="#%e6%9d%8e%e9%97%bbmatrix%e5%9f%ba%e4%ba%8econtainer%e7%9a%84%e5%a4%a7%e8%a7%84%e6%a8%a1%e9%9b%86%e7%be%a4%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f" title="Direct link to heading">#</a>
</h1><p>介绍了一下Matrix的规模，从哲学的高度讲了一下产品开发要遵守的一些规范。</p>
<h1 id="于顺治container在搜狐paas平台中的应用实践">
    于顺治(Container在搜狐PaaS平台中的应用实践)<a class="hash-link" href="#%e4%ba%8e%e9%a1%ba%e6%b2%bbcontainer%e5%9c%a8%e6%90%9c%e7%8b%90paas%e5%b9%b3%e5%8f%b0%e4%b8%ad%e7%9a%84%e5%ba%94%e7%94%a8%e5%ae%9e%e8%b7%b5" title="Direct link to heading">#</a>
</h1><p>讲述了一下搜狐从用“沙盒”（即针对编程语言做特殊安全隔离的一类容器）到使用container的路程。</p>
<p>描述了container相较于沙盒的一些优势，上面已经介绍过一些。</p>
<h1 id="马全一构建-docker-的开发环境">
    马全一（构建 Docker 的开发环境）<a class="hash-link" href="#%e9%a9%ac%e5%85%a8%e4%b8%80%e6%9e%84%e5%bb%ba-docker-%e7%9a%84%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83" title="Direct link to heading">#</a>
</h1><p>作为主持人，马全一的报告讲的更多的是部署docker开发环境的一些技术上的流程，这些需要具体的实践才能有所收获。</p>
<h1 id="蔡书关于性能docker">
    蔡书(关于性能&ndash;Docker)<a class="hash-link" href="#%e8%94%a1%e4%b9%a6%e5%85%b3%e4%ba%8e%e6%80%a7%e8%83%bddocker" title="Direct link to heading">#</a>
</h1><p><a href="http://caishu.github.io/csdn2014/#/">http://caishu.github.io/csdn2014/#/</a> 蔡书是红帽的软件架构师，它在会上讲述了提升docker性能的一些方法。 除了docker性能调优的一些参数以外，它还指出可以通过&quot;tuned/tuned-adm&quot;这样的系统工具进行性能调优。 另外，他还指出，docker的优势在于其灵活性，适用于 1. 软件分发； 2. 环境部署与迁移。</p>
<p>而想要获得较高性能的方法就是对container上的应用： 1. 大量同构应用的密集部署； 2. 重计算，轻端口的应用。</p>
<p>它还给出了一张非常精致的图片，展示了所有他说到的概念和工具，确实值得收藏： <img src="https://raw.githubusercontent.com/wonderflow/pic/master/docker-on-rhel7.png" alt="概念与工具"></p>
<h1 id="艾奇伟docker的安全性解析">
    艾奇伟（Docker的安全性解析）<a class="hash-link" href="#%e8%89%be%e5%a5%87%e4%bc%9fdocker%e7%9a%84%e5%ae%89%e5%85%a8%e6%80%a7%e8%a7%a3%e6%9e%90" title="Direct link to heading">#</a>
</h1><p>艾奇伟又名大鹰，他分析了docker关于安全性方面的设计，提出了docker的弱安全性（本来就没有为安全考虑）</p>
<p>指出安全性和性能有一定的矛盾，而较为安全的做法可能是在虚拟机中跑docker或其他container。</p>
<h2 id="毛文波网络虚拟化与sdn实现docker连通">
    毛文波（网络虚拟化与SDN实现Docker连通）<a class="hash-link" href="#%e6%af%9b%e6%96%87%e6%b3%a2%e7%bd%91%e7%bb%9c%e8%99%9a%e6%8b%9f%e5%8c%96%e4%b8%8esdn%e5%ae%9e%e7%8e%b0docker%e8%bf%9e%e9%80%9a" title="Direct link to heading">#</a>
</h2><p>关于SDN这个主题，宏亮学长的报告中提及较多。</p>
<p>我对网络并不了解，后面需要加强学习。</p>
<h1 id="李明宇和而不同openstackdocker">
    李明宇（和而不同——OpenStack&amp;Docker）<a class="hash-link" href="#%e6%9d%8e%e6%98%8e%e5%ae%87%e5%92%8c%e8%80%8c%e4%b8%8d%e5%90%8copenstackdocker" title="Direct link to heading">#</a>
</h1><p>介绍了openstack中docker的使用方式： 1. 把docker作为虚拟机同一层次的概念，使openstack不仅能管理虚拟机，也能管理docker。原理就是通过调用docker API来实现。 2. 使用Heat这个编排引擎来启动和管理docker镜像。</p>
<p>我之前也研究过一段时间Heat，所以会后向李明宇博士提出了我的困惑，即<strong>Heat如何与虚拟机交互获得状态反馈</strong>的问题。</p>
<p>李博士也表示没有特别好的办法，只能通过nova list查看虚拟机创建进度，通过nova的其他IP这样分门别类的查看其它内容的状态，但是想要进入虚拟机里面查看目前还没有好的方法。 这也是我目前研究Heat自动化部署的一个瓶颈。</p>
<p>相同的问题也问过网易的学长，他们则说没有尝试过使用Heat部署cloudfoundry这样较为重型的带有明确拓扑关系的集群。</p>
<h1 id="总结">
    总结<a class="hash-link" href="#%e6%80%bb%e7%bb%93" title="Direct link to heading">#</a>
</h1><p>关于技术，以上便是我在container大会的收获。实际上，技术之外，企业人士对产品的敬业精神，对产品的深度思考等，都让我收获良多。我觉得平时我们除了在技术层面的探索以外，也要跳出技术的思维局限，站在更广阔角度思考问题。</p>

    </div>
  </article>
</div>

    </main>
    <footer class="bg-near-white bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
    <a class="f4 fw4 hover-black no-underline mid-gray dn dib-ns pv2 ph3" href="https://wonderflow.info/">
      &copy;  奇迹之流WonderfloW 2025 
    </a>
    <div><div class="ananke-socials"></div>
</div>
    <a href="https://beian.miit.gov.cn/" class="link db f6 pa2 br3 bg-mid-gray white dim w4 tc"> 沪ICP备2020029591号 </a>
    
  </div>
</footer>


<div class="reading-progress" id="reading-progress"></div>


<button class="back-to-top" id="back-to-top" aria-label="Back to top">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="18 15 12 9 6 15"></polyline>
  </svg>
</button>


<script>
(function() {
  
  const progressBar = document.getElementById('reading-progress');
  const backToTop = document.getElementById('back-to-top');

  function updateProgress() {
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;

    if (progressBar) {
      progressBar.style.width = progress + '%';
    }

    
    if (backToTop) {
      if (scrollTop > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }
  }

  
  let ticking = false;
  window.addEventListener('scroll', function() {
    if (!ticking) {
      window.requestAnimationFrame(function() {
        updateProgress();
        ticking = false;
      });
      ticking = true;
    }
  });

  
  if (backToTop) {
    backToTop.addEventListener('click', function() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  
  updateProgress();
})();
</script>

  </body>
</html>
