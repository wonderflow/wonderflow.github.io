<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>奇迹之流WonderfloW</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Nothing Replaces Hard Work!">
    <meta name="generator" content="Hugo 0.153.4">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.efe4d852f731d5d1fbb87718387202a97aafd768cdcdaed0662bbe6982e91824.css" >



  
    <link rel="stylesheet" href="/css/custom.css">
  


    


    
      
<link rel="shortcut icon" href="/favicon_io/favicon.ico" type="image/x-icon" />


    

    
    
      <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="奇迹之流WonderfloW" />
      <link href="/posts/index.xml" rel="feed" type="application/rss+xml" title="奇迹之流WonderfloW" />
      
    

    
      <link rel="canonical" href="https://wonderflow.info/posts/">
    

    
    
    <meta property="og:url" content="https://wonderflow.info/posts/">
  <meta property="og:site_name" content="奇迹之流WonderfloW">
  <meta property="og:title" content="Posts">
  <meta property="og:description" content="Nothing Replaces Hard Work!">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Posts">
  <meta itemprop="description" content="Nothing Replaces Hard Work!">
  <meta itemprop="datePublished" content="2025-12-28T00:00:00+08:00">
  <meta itemprop="dateModified" content="2025-12-28T00:00:00+08:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Posts">
  <meta name="twitter:description" content="Nothing Replaces Hard Work!">

      
      
    
	
  </head><body class="ma0 avenir production">

    



<header class="cover bg-top" style="background-image: url('https://wonderflow.info/images/gohugo-default-sample-hero-image.jpg');">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z3XG75RG8W"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
  <link rel="manifest" href="/favicon_io/site.webmanifest">
  <div class="bg-black-70">
    <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        奇迹之流WonderfloW
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>
    <div class="tc-l pv4 pv6-l ph3 ph4-ns">
      <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
        Posts
      </h1>
      
    </div>
  </div>
</header>

    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links dark-gray"></section>
    <section class="flex-ns mt5 flex-wrap justify-around">
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/11/24/775/" class="link black dim">
        No Content Found
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>2013.11.19~2013.11.25 a sad story.
Nothing serious!  :(</p>
    </div>
    <a href="/posts/2013/11/24/775/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/11/21/e3808arubye58583e7bc96e7a88be3808be8afbbe4b9a6e7ac94e8aeb0/" class="link black dim">
        《ruby元编程》读书笔记
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>总的来说，《ruby元编程》是一本好书。 当我拿到这本书的时候，第一反应是什么叫元编程？书上的定义是这样的：<strong>“元编程是写出编写代码的代码”</strong>。 而我认为，元编程是ruby语言的一些高级特性，是属于ruby的<strong>奇技淫巧</strong>。</p>
<p>有意思的是，这本书不是枯燥的一章一章给你灌输这些知识，而是描述公司里一个老程序员一对一带一个年轻程序员的故事。就是所谓的mentor/buddy制度，大部分IT公司都有，就是不知道贯彻的怎么样。不管书中描述的这样的工作情况是不是真的，都很令人神往。</p>
<p>我觉得一个IT行业的大公司就该有这样的气度，把新员工当朋友、兄弟一样培养，毕竟IT行业中，人才是最大的财富。这样带起来的团队，相比凝聚力也是极强的。</p>
<p>书中的内容也根据工作日的划分成了周一到周五5个部分，分别以“对象模型”，“方法”，“代码块”，“类定义”以及“编写代码的代码”这5个点作为话题描述。</p>
<p>整本书都值得一看，书中很多技术给了我不少启发，挑几个有意思的记一记。</p>
<ul>
<li>
<p>ruby的class关键字更像是一个作用域操作符而不是类型声明语句。它的确可以创建一个还不存在的类，不过也可以把这看成是一种副作用。对于class关键字，其核心任务是把你带到类的上下文中，让你可以在其中定义方法。</p>
</li>
<li>
<p>打开类这样的技术也有隐患：如果你粗心地为某个类添加了某些功能，就可能把类本身的一些方法替换到，造成bug，人们给这张方式起了一个不太好听的名字：<strong>猴子补丁（Monkeypatch）</strong>，这就是著名的猴子补丁的由来了。当然，有时候一些临时性的猴子补丁可是有救场的奇效的。</p>
</li>
<li>
<p>如何以大写字母开头的引用（包括类名和模块名），都是常量。</p>
</li>
<li>
<p><strong>动态派发</strong>：当你调用一个方法时，实际上是给一个对象发送了一条消息。ruby用自身的语法完美的解释了这个关于类执行方法的概念。</p>
</li>
</ul>
<p>{% codeblock %}
class MyClass
def my_method(my_arg)
my_arg * 2
end
end
obj = MyClass.new
obj.my_method(3) # =&gt; 6
obj.send(:my_method, 3) # =&gt; 6</p>
<p>{% endcodeblock %}</p>
<ul>
<li>
<p>关于符号，symbol，是一个很不错的定义，它跟string的用法有相似性，但是它不是string。</p>
</li>
<li>
<p><strong>幽灵方法</strong>，在ruby中，编译器并不强制方法调用时的行为，这意味着你可以调用一个并不存在的方法。而接收这个不存在方法的函数，就是method_missing方法，你可以覆写这个方法，并使用动态派发技术，来实现幽灵方法。 7. yield关键字可以回调一个你定义的块，相当好用。</p>
</li>
</ul>
<p>{% codeblock %}
def a_method
return yield if block_given? &rsquo;no block'
end
a_method # =&gt; &ldquo;no block&rdquo;
a_method { &ldquo;here&rsquo;s a block!&rdquo; } # =&gt; &ldquo;here&rsquo;s a block!&rdquo;</p>
<p>{% endcodeblock %}</p>
    </div>
    <a href="/posts/2013/11/21/e3808arubye58583e7bc96e7a88be3808be8afbbe4b9a6e7ac94e8aeb0/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/11/04/e6b3a1e99da2e58aa0e9b8a1e89b8befbc88e4b889efbc89/" class="link black dim">
        泡面加鸡蛋（三）
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>让我又想起要来要写一下生活记录的是这个学姐的博客：<a href="http://cuijing.org/">Crystal</a>，上面的日志都很温暖，很有正能量。所以我也觉得自己该写点什么来记录一下自己的生活，过去了就过去了的话，多可惜啊。</p>
<p>最近“爸爸去哪儿”这个电视节目很火，拍的也非常好。从一开始的小孩子们离不开玩具，到互相帮助克服困难去完成一个又一个的任务，都是4到6岁的小孩子，看上去非常真实。那些爸爸们也是放下了平时明星的范儿，展露出了最平凡朴实的爸爸的样子，很多画面都非常感人。其实观众也许早就看腻了镜头下面刻意演出来的东西了吧，所以这种最接近生活的真、善、美，才会如此打动人心。而善良、诚实、勇敢、正直、知错就改、有责任感、乐于分享、团队合作等等优秀的品质，都需要家长们以身作则，耐心的一点一滴的教出来。家长在做，孩子在学，而这么漫长的过程，即使是一个演员，也是不可能一直装下去的，所以孩子的品质是家长们最直接的体现。</p>
<p>现在想来，还是要感谢爸妈小时候的教育，让我这么多年一路走来，没有因为为人处世吃过什么大亏，做人还算靠谱。</p>
<p>再来细数一下最近这大半个月来繁忙的生活。平时工作日就没什么好说了，还是老样子。从10月16日的那个周末开始，连着三个周末都没能闲下来。先是班级活动，然后接下来的周末是运动会和ACM杭州赛区的比赛，本来打算酱油的铅球竟然凭运气搞到个第八名；再接下来的周末就是去南京啦。当然，我都不是去比赛的，纯粹围观酱油。</p>
<p>昨天在南京，看比赛结束了，想再去见见从前的老朋友们。就去从前的室友们的寝室坐了一会，发现其实一切都没有什么变化。还是一起几人开开黑，一起几人看看dota视频，唯一的变化可能就是我的位置换成了别人。坐了半小时感觉室友们一切安好，就释然的撤了。</p>
<p>一个人默默的在校园里走了一会，思来想去，发现除了从前最亲爱的室友和ACM的一帮队友，竟然没有了可以随时随地就喊出来的朋友。有些人喊出来有些唐突，有些人不太好意思打扰。</p>
<p>倒是在教学楼里跟以前总是不期而遇的哥们再一次的不期而遇让人感觉分外温暖，道一声“好久不见。”仿佛一切还是原来的样子。也许在他的脑海中，我依旧在这个校园里的某处生活着，真的只是好久不见而已。其实想想，也挺好。</p>
<p>有些时候，就是那种突然的分别最让人难以接收，那种对今日一别不知何日再见的意识，让我们感到分外忧伤，却又弥足珍贵。而与之相对应的，则是知道很容易见面，但是却不常见面的那种分别，其实是最最悲哀的。当年大二分班那会，多少要好的哥们在随后的两年里变成了普通朋友，也许只有当时的记忆知道了。</p>
<p>在校园里走了一会，最后还是默默的回到了活动室。以前我总觉的懊悔，搞了三年ACM让我损失了很多年级里要好的朋友，其实我该庆幸。要不是搞了三年ACM，那天回到学校，走进体育馆，哪里会有这么一大帮学弟学妹亲切的问候，哪里会有无论何时路过都想进去转一转的活动室，哪里会有那么多优秀靠谱的队友，又哪里会留在那么多人的记忆里，成为他们值得信赖的人啊。我很荣幸，也很感动。</p>
<p>离开南京的那天，正好是启鸿生日，尹总问，相比之下两个学校差距如何。我说都差不多。他说，这是打了多少感情分啊？！想想也是，人的一生有多少个四年？青春里最好的时光又有几个四年？这就算有再多的感情分在里面都不为过吧。</p>
<p>在那段怀念的时光里，金陵汤包王和回味鸭血粉丝还是那么地道，四号门外的饭馆还是量大而实惠，饭店里的酸菜鱼依旧是我认为最下饭的那一道菜。可傍晚走出校门回宾馆的路上，深秋的冷风依旧提醒着我，这里早已没有了你的住所，我只是一个过客。</p>
<p>但是一切都得向前看不是嘛？回来的第一天晚上，玉泉的美食节正热热闹闹的在怡善堂门口举行，每一个美食摊前都挤满了客人，可当我好不容易一个一个挤到摊子前一看，才发现，个个都是烧烤摊。超大的火鸡翅和巨大的羊肉串让我明白了，武侠小说中的大口吃肉大口喝酒，终究也只是苦中作乐而已。</p>
<p>本来晚饭都没吃，饥肠辘辘的满怀期待，随着几口肉下肚，就变成了人们一路上的吐槽，都是肉啊都是肉啊都是肉！</p>
<p>原来都是肉也会这么不幸福？</p>
<p>哈哈，最后还是阿姨的小卖部门口挤满了人，走你的玉泉美食节，还是最爱我们的五舍名食——泡面加鸡蛋！</p>
    </div>
    <a href="/posts/2013/11/04/e6b3a1e99da2e58aa0e9b8a1e89b8befbc88e4b889efbc89/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/10/18/ubuntue79a84e6ba90/" class="link black dim">
        ubuntu源的本地化
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>最近，为了装个runit，装了2天，各种问题都出现了，始终无法解决，都快装哭了。</p>
<p>最后用排除法，一个个排除问题，发现是使用的网易ubuntu源的问题。 哎，看来从研究设计到工程细节，还是有很大的技术距离的。</p>
<p>静默安装方法</p>
<p>{% codeblock %}</p>
<p>sudo DEBIAN_FRONTEND=noninteractive apt-get install -f -y &ndash;force-yes &ndash;no-install-recommends runit</p>
<p>{% endcodeblock %}</p>
<p>最后为了安全稳定，决定自己建立ubuntu的局域网源，这样后面安装软件也会更快。</p>
<p>1、安装依赖软件</p>
<p>{% codeblock %}</p>
<p>sudo apt-get install dpkg-dev</p>
<p>{% endcodeblock %}</p>
<p>2、将 /var/cache/apt/archives/下的所有deb文件拷到(cp命令，图形界面都没问题) 你想要的地方，拷贝前建议执行一下</p>
<p>{% codeblock %}
sudo apt-get autoclean
{% endcodeblock %}</p>
<p>比方说拷至home下新建的deb文件夹</p>
<p>{% codeblock %}
sudo cp /var/cache/apt/archives/*.deb /var/www/deb/
{% endcodeblock %}</p>
<p>3、拷贝完成后到/var/www/deb/目录下执行命令，生成Packages.gz让告诉ubuntu源的内容。</p>
<p>{% codeblock %}
sudo dpkg-scanpackages . /dev/null | gzip &gt;Packages.gz
{% endcodeblock %}</p>
<p>4、安装apache2使你的部分源对外开放</p>
<p>{% codeblock %}
sudo apt-get install apache2
{% endcodeblock %}</p>
    </div>
    <a href="/posts/2013/10/18/ubuntue79a84e6ba90/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/10/14/rubye78988e79a84crash_recoverye887aae58aa8e58c96e6b58be8af95e5b7a5e585b7/" class="link black dim">
        Ruby版的crash_recovery自动化测试工具
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>高可靠性（High availability）是个相当有意义课题，在现有大型集群机器上，有着广泛的应用。如今，针对这个命题的实现，各大公司都提供了方方面面的方式。针对高可靠性的测试，也就有了意义。</p>
<p>正好近期在学ruby，于是就尝试着用ruby做了一个crash——recovery测试工具。</p>
<p>工具分为两块，第一块是破坏虚拟机，使虚拟机突然宕机。第二块就是杀虚拟机中相应的进程。
最终都是要看进行了这些破坏以后，系统是否能够自动恢复。</p>
<p>破坏虚拟机，使其突然宕机，用到的是我之前博客中写到的方法<a href="http://wonderflow.info/archives/714">《Linux Magic Key — SysRq》</a>，使用&quot;echo c &gt; /proc/sysrq-trigger&quot;命令让虚拟机突然奔溃。</p>
<!-- raw HTML omitted -->
<p>既然提到了自动化，自然就是远程执行该命令了。在ruby中，远程执行命令的方式为使用net/ssh包。然后把“echo c..”写在一个shell脚本中，传输过去。然后在后台执行该脚本。</p>
<p>&lt;</p>
<p>pre&gt;
require ‘net/ssh’
require ‘net/scp’
def vm_dump_thread(host)
begin
Net::SSH.start(host,’root’,:password=&gt;&ldquo;password&rdquo;,:timeout=&gt;5) do |ssh|
puts &ldquo;success to setup. #{host}&rdquo;
puts ssh.scp.upload!(‘sysdump.sh’,’.’)
ssh.exec(&ldquo;bash sysdump.sh &amp;&rdquo;)
end
rescue Timeout::Error
puts &quot; Connection Time out.&quot;
rescue Errno::ECONNREFUSED
puts &quot; Connection refused&quot;
end
end</p>
<p>&lt;</p>
<p>pre&gt;
本以为这样的效果就很好了。但不幸的是，ruby的线程会不断的等待</p>
<p>&lt;</p>
<p>pre&gt;
ssh.exec(&ldquo;bash sysdump.sh &amp;&rdquo;)</p>
<p>&lt;</p>
<p>pre&gt;
返回结果。导致整个线程都卡死在这里，程序完全无法运行下去。</p>
<p>然后以为采取多线程的方式，可以解决问题：</p>
    </div>
    <a href="/posts/2013/10/14/rubye78988e79a84crash_recoverye887aae58aa8e58c96e6b58be8af95e5b7a5e585b7/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/10/10/e6b3a1e99da2e58aa0e9b8a1e89b8befbc88e4ba8cefbc89/" class="link black dim">
        泡面加鸡蛋（二）
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>十月一号回家，各处人山人海，回家不容易。</p>
<p>在家里和小伙伴们吃饭，听到了很多的故事，觉得要记下来：</p>
<p>1）小学同学a，男，在网上找到一个女朋友，见面一个月怀上了孩子，结婚了。同学a矮小瘦弱，女朋友虎背熊腰。结婚后女方发现同学a实在是软弱无能，还不听话，天天暴打。甚至拿着菜刀在村里追着打骂，街坊邻居都不敢去劝。最后被喊去女方家里当苦力。同学a瘦弱的老父亲依靠捡拾垃圾把同学a拉扯大，如今依旧还要靠捡拾垃圾供养同学a，每个月还要给女方寄上千元的奶粉钱。</p>
<p>2）小学同学b，男，小时候经常骗家里的钱，长大后也没改掉这个习惯。有一次抱回一个女婴，说是自己在外面生的女儿，让帮忙养着。自己继续在外面厮混。不久后又跟老父亲说，要结婚了，需要3万块钱。父亲联想到自己养着的这个女孩，不禁喜出望外，决定借钱装修装修房子，再给儿子凑出这些钱。但是以前被自己儿子骗钱骗怕了，给儿子之前，问：“这次你没骗我吧。” 儿子闪烁其次，但是老父亲还是选择了相信他。可惜，儿子再次欺骗了他，把这3万块钱拿出去跟狐朋狗友娱乐了。大半年后，儿子钱花光了，回到家里，老父亲怒骂他不是人，把女儿丢给自己养，没出息。小学同学b淡定的反驳道：“也不搞搞清楚女儿到底是谁的。”最后的最后得知，竟然是小学同学b的母亲在外面跟别的男人通奸，生下的孩子。老父亲望着养了大半年的女孩，欲哭无泪。</p>
<p>3）小学同学c，女，自从出了学校就一直在社会上混迹，每年都要怀孕，但是家里穷，没钱打胎。同学c的老母亲就去村委会哭闹，每次都能求来打胎的费用。终于有个外地的男人看上了同学c，准备结婚。在结婚前一晚都没有回家，老父老母急的都跟原本的亲戚说取消婚礼了，结果当晚午夜，女儿回来了。第二天，乡亲们都去上班了，纵使老父亲再去怎么解释，乡亲们都觉得是一种欺骗。最后婚宴上就同学c一家三口和男方从外地赶来的十几个亲人。一共两桌，男方的亲戚气的当天下午就回去了。婚后三年，倒也安安分分，只是再也没有怀孕。</p>
<p>4）小学同学d，女，家里穷，但是很爱面子。一家三口，她母亲，她姐姐，和她自己。家中的父亲在多年前就已经不知所踪。同学d结识了一个男朋友，一直被男友骗家里有钱，直到结婚，才知道真相，男友家里其实非常穷。但是爱慕虚荣的同学d和她母亲一再无法原谅那个男人，非常看不起他，也看不起他提出的每个月给点生活费的做法。在多次的羞辱后，男人也跑了，丢下了小孩。几年过后，生活依旧艰难，只是同学d的老母亲依旧爱慕虚荣，在外讲述自己的女儿多么了不起，家里不差钱。虽然家里从来没有房子，一直住着临时用的集装箱。前年，看到淘宝很流行，一家人看到网上有3万卖的特价房子，开始跟亲戚筹钱准备买房子。亲戚看她们可怜，也没想过她们借钱去干嘛，最终果然是被这诱人的三万元的房子骗走了辛辛苦苦借来的钱。我不知道小孩子的奶粉钱是哪里来的，同学d是个超市推销员。转眼小孩子快要上小学，一家人还是愿意那样艰难的维持着尊严。</p>
<p>十月七号回杭州，大雨。</p>
<p>杭州大雨，举着一个几公斤重的箱子，在没过膝盖的水中淌水跋涉了很久到达了寝室。根本打不到车。
其实这不算什么，因为知道有个女同学有相同的经历。
毕竟自己是个男人。</p>
<p>水淹浙江，余姚告急，113万人受灾。</p>
<p>原来一个发达的城市也是这样的脆弱，说起来，这场灾难只是一场大雨而已。</p>
<p>原谅我，没有传播正能量。有时候，泡面加鸡蛋是一种生活品质；更多的时候，泡面加鸡蛋是生活无奈的必须。</p>
    </div>
    <a href="/posts/2013/10/10/e6b3a1e99da2e58aa0e9b8a1e89b8befbc88e4ba8cefbc89/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/09/26/e6b3a1e99da2e58aa0e9b8a1e89b8befbc88e4b880efbc89/" class="link black dim">
        泡面加鸡蛋（一）
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>转眼间，开学都快一个月了，有了习惯的生活节奏，习惯了宿舍的人、事、物，觉得再也不能使用初来乍到这个题目了。</p>
<p>鉴于五舍提供的“泡面加鸡蛋”服务实在是太周到了，我决定帮忙宣传一下。全天16个小时无微不至的小卖部服务，还有阿姨亲自帮你用微波炉煮的泡面加鸡蛋，实在是让我感到非常满意，尤其是小卖部还就在宿舍隔壁，感觉跟自己家开的一样。</p>
<p>所以总的来说，虽然五舍每天只能洗洗冷水澡，上个厕所、倒个水都感觉要走过一条街一样累，但是我还是比较满意的！</p>
<p>最近我习惯天天去操场跑5圈，心情非常好，偶尔熬个夜还能吃碗“泡面加鸡蛋”，尤其是小卖部的阿姨还会偶尔拿她女儿的初中数学题来虐我们这帮人的智商，大有一副你答不出来就没得吃的感觉，真心很有爱。把最近的这个题目给大家看看：“一个三角形的高是4，面积是2m，请问m代表什么？”（PS：文章最后给大家答案）</p>
<p>今天跟增哥一起吃饭，他还说，学校有三宝，地皮、树木和五舍。当时我就震惊了，原来五舍是当年50年代苏联援建的建筑，至今已经变成了历史文物，具有极高的政治收藏意义。唯一的副作用是，历史文物保护条例上明确指出，不准在文物上打孔，所以五舍一直不允许装空调。</p>
<p>当时听完就把我乐坏了，其实大增哥还是很有幽默感的一个人呐。</p>
<p>跑步的时候，经常看到不同的风景，尤其今天见到的一对情侣，女生正常跑，男生在旁带球匀速与她齐肩，跑了两圈，球丝毫没有带歪，真叫一个英俊潇洒、风姿绰约、郎才女貌啊。我觉得中国足球就该这么练。每个球员配一个女啦啦队员，每天练几个小时，世界杯很快就是中国的主场了。</p>
<p>然后不得不提的是，西湖的夜景真的很棒，吹着夜风，走在苏堤上的感觉很爽。没事的时候就能走过去散散步，来回也就不到两个小时，这该是生活在这里最大的福利了吧，一定要多享受几次。
另外，在西湖边上划船也很便宜，大概一艘船四个人，一个小时只要50块钱左右，还是挺有意思的，之前跟小伙伴们问完价格，刚想上去划，结果人家说马上下班了。然后就一直没找到时间去划，真可惜。</p>
<p>最后说一说跟学术相关的。
ruby虽然是日本人发明的脚本语言，但不得不承认，这是一个伟大的语言。
人人都爱面子，当你碰到一个学术水平很高的人吹牛时，还是选择唯唯诺诺最为明智。
上身T恤，下身西裤，脚上球鞋的装扮，一点也不学术。</p>
<p>最后，希望自己喜欢上这个系列，就像喜欢深夜时一碗香喷喷的“泡面加鸡蛋”！</p>
<p>附：关于m代表什么的问题，答案是“底边长度”。不知道你有没有马上想出来呢？</p>
    </div>
    <a href="/posts/2013/09/26/e6b3a1e99da2e58aa0e9b8a1e89b8befbc88e4b880efbc89/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2013/09/15/javascripte4b8ade79a84e997ade58c85efbc88javascripte69d83e5a881e68c87e58d97e8afbbe4b9a6e7ac94e8aeb0efbc89/" class="link black dim">
        JavaScript中的闭包（JavaScript权威指南读书笔记）
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>最近在看javascript的书，稍微学习一些前端的东西，以便做些web应用的方便。</p>
<p>以前看到闭包这个概念一直不太懂，今天下定决心好好研读了一下，终于明白了一二。</p>
<p>像绝大多数高级编程语言，javascript也有其词法的作用域。意思是说，当函数被执行的时候，起作用的不是被调用时的变量作用域，而是在函数被定义的时候声明的变量域。所以为了实现这个词法作用域的功能，javascript必须在中间过程中不仅保存函数的代码，还需要保存当时所引用的作用域链。<a href="http://en.wikipedia.org/wiki/Closure_(computer_science)">这个函数对象和函数变量保存起来的作用域的组合在计算机科学里的称呼就叫做闭包。</a></p>
<p>从技术角度来说，javascript里的函数都是闭包：它们都是对象，并且它们有一个与之关联的作用域链。大多数函数被调用的时候，影响它们的作用域与定义它们的作用域是相同的，但是这并不影响它们是闭包。只有当函数被调用的时候，影响它们的作用域与定义它们时候的不相同的时候，闭包的概念才会变得有趣起来。<strong>这个通常发生在函数的返回值本身就是一个内嵌函数的时候。</strong></p>
<p>要理解闭包的概念，我们先来看一段内嵌函数返回相关的代码。</p>
<p>{% codeblock %}</p>
<p>var scope = &ldquo;global scope&rdquo;; // A global variable
function checkscope() {
var scope = &ldquo;local scope&rdquo;; // A local variable
function f() { return scope; } // Return the value in scope here
return f();
}
checkscope() // =&gt; &ldquo;local scope&rdquo;</p>
<p>{% endcodeblock %}</p>
<p>checkscope()函数在内部定义了函数f，并在返回的时候执行了f函数，所以我们得到了结果 “local scope”。</p>
<p>再来看看下面这段：</p>
<p>{% codeblock %}</p>
<p>var scope = &ldquo;global scope&rdquo;; // A global variable
function checkscope() {
var scope = &ldquo;local scope&rdquo;; // A local variable
function f() { return scope; } // Return the value in scope here
return f;
}
checkscope()() // What does this return?</p>
    </div>
    <a href="/posts/2013/09/15/javascripte4b8ade79a84e997ade58c85efbc88javascripte69d83e5a881e68c87e58d97e8afbbe4b9a6e7ac94e8aeb0efbc89/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
    </section>
    
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/7/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/6/" aria-label="Page 6" class="page-link" role="button">6</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/7/" aria-label="Page 7" class="page-link" role="button">7</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 8" class="page-link" role="button">8</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/9/" aria-label="Page 9" class="page-link" role="button">9</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/10/" aria-label="Page 10" class="page-link" role="button">10</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/9/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/18/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul></article>

    </main>
    <footer class="bg-near-white bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
    <a class="f4 fw4 hover-black no-underline mid-gray dn dib-ns pv2 ph3" href="https://wonderflow.info/">
      &copy;  奇迹之流WonderfloW 2025 
    </a>
    <div><div class="ananke-socials"></div>
</div>
    <a href="https://beian.miit.gov.cn/" class="link db f6 pa2 br3 bg-mid-gray white dim w4 tc"> 沪ICP备2020029591号 </a>
    
  </div>
</footer>


<div class="reading-progress" id="reading-progress"></div>


<button class="back-to-top" id="back-to-top" aria-label="Back to top">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="18 15 12 9 6 15"></polyline>
  </svg>
</button>


<script>
(function() {
  
  const progressBar = document.getElementById('reading-progress');
  const backToTop = document.getElementById('back-to-top');

  function updateProgress() {
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;

    if (progressBar) {
      progressBar.style.width = progress + '%';
    }

    
    if (backToTop) {
      if (scrollTop > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }
  }

  
  let ticking = false;
  window.addEventListener('scroll', function() {
    if (!ticking) {
      window.requestAnimationFrame(function() {
        updateProgress();
        ticking = false;
      });
      ticking = true;
    }
  });

  
  if (backToTop) {
    backToTop.addEventListener('click', function() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  
  updateProgress();
})();
</script>

  </body>
</html>
